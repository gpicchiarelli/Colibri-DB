\* TLC Configuration for LockManager.tla

SPECIFICATION Spec

CONSTANTS
  MAX_TX = 3
  MAX_LSN = 15
  MAX_PAGES = 5
  Resources = {1, 2, 3}

INVARIANTS
  TypeOK_LM
  Inv_LockManager_LockCompatibility
  Inv_LockManager_DeadlockDetection
  Inv_LockManager_WaitQueueValid
  Inv_LockManager_WaitForGraphValid
  Inv_LockManager_NoSelfLoops
  Inv_LockManager_GrantTimeValid
  Inv_LockManager_Safety

PROPERTIES
  \* Liveness_DeadlocksResolved
  \* Liveness_NoStarvation

CONSTRAINT
  Cardinality({tid \in TxIds : \E r \in Resources : locks[r][tid] # "IS"}) <= 3
