\* TLC Configuration for MVCC.tla
\* Model checking parameters for Multi-Version Concurrency Control

\* Specification to check
SPECIFICATION Spec

\* Constants
CONSTANTS
  MAX_TX = 4
  MAX_LSN = 20
  MAX_PAGES = 5
  Keys = {1, 2, 3}

\* Invariants to check
INVARIANTS
  TypeOK_MVCC
  Inv_MVCC_SnapshotIsolation
  Inv_MVCC_NoWriteWriteConflict
  Inv_MVCC_VersionChainConsistency
  Inv_MVCC_CommittedVersionsValid
  Inv_MVCC_ActiveTxHaveSnapshots
  Inv_MVCC_ReadStability
  Inv_MVCC_WriteSetsValid
  Inv_MVCC_Safety

\* Temporal properties (commented out for initial runs - expensive)
PROPERTIES
  \* Liveness_TxEventuallyCompletes
  \* Liveness_EventualVacuum

\* State space constraints
CONSTRAINT
  /\ globalTS <= 20
  /\ Cardinality(activeTx) <= 3
  /\ Cardinality(committedTx \union abortedTx) <= 8

\* Symmetry reduction
\* Keys are symmetric
SYMMETRY
  Permutations(Keys)

\* View for state equivalence
VIEW
  <<versions, activeTx, globalTS>>
