SPECIFICATION Spec

CONSTANTS
    Transactions = {t1, t2, t3}
    Pages = {p1, p2, p3}
    MaxWALSize = 1000
    MaxSavepoints = 5
    RecoveryTargets = {TIME, LSN, XID, LATEST}

    * CORE constants (required since module EXTENDS CORE)
    MAX_TX = 3
    MAX_LSN = 20
    MAX_PAGES = 10
    PAGE_SIZE = 1024

INVARIANTS
    TypeInvariant
    TransactionStatesMutuallyExclusive
    WALMonotonic
    PageLSNsValid
    CommittedTxnsHaveRecords
    NoNewTxnsDuringRecovery
    SavepointsBelongToActiveTxns
    CheckpointLSNsInWAL
    WriteAheadLogging
    Durability
    Atomicity

PROPERTIES
    RecoveryEventuallyCompletes
    EventuallyNormal
    TransactionsEventuallyComplete

CONSTRAINT
    currentTime < 100
    lastLSN < 200

