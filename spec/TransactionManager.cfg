\* TLC Configuration for TransactionManager.tla

SPECIFICATION Spec_TM

CONSTANTS
  MAX_TX = 3
  MAX_LSN = 15
  MAX_PAGES = 5
  Resources = {1, 2, 3}
  Participants = {1, 2}
  TX_TIMEOUT_MS = 1000
  PREPARE_TIMEOUT_MS = 100

INVARIANTS
  TypeOK_TM
  Inv_TM_Atomicity
  Inv_TM_Durability
  Inv_TM_Isolation
  Inv_TM_2PC_Validity
  Inv_TM_LockDiscipline
  Inv_TM_NoDeadlock
  Inv_TM_WAL_Ordering
  Inv_TM_Safety

PROPERTIES
  \* Liveness_TxEventuallyCompletes
  \* Liveness_LocksEventuallyReleased
  \* Liveness_DeadlockResolution

CONSTRAINT
  /\ nextTID <= 15
  /\ Cardinality({tid \in TxIds : transactions[tid].status = "active"}) <= 3
