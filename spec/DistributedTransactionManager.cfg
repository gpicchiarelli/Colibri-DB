SPECIFICATION Spec_DTM

CONSTANTS
  MAX_TX = 2
  MAX_LSN = 15
  MAX_PAGES = 8
  Nodes = {n1, n2, n3}
  CoordinatorNode = n1
  ReplicationFactor = 3
  Resources = {1, 2}
  Keys = {1, 2}
  Participants = {n1, n2}
  MAX_REPLICATION_LAG = 10

INVARIANTS
  TypeOK_DTM
  Inv_DTM_DistributedAtomicity
  Inv_DTM_ReplicationConsistency
  Inv_DTM_RaftSafety
  Inv_DTM_TimestampMonotonic
  Inv_DTM_NoSplitBrain

PROPERTIES
  Prop_DTM_TxCompletion

CONSTRAINT
  \A node \in Nodes: replicationLag[node] <= 15
  /\ Cardinality(aliveNodes) >= 2

