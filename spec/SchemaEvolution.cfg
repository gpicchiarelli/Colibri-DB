SPECIFICATION Spec_SchemaEvolution

CONSTANTS
  MAX_TX = 3
  MAX_LSN = 20
  MAX_PAGES = 10
  MAX_SCHEMA_VERSIONS = 3
  Tables = {t1, t2}
  Columns = {id, name, age, email}
  DataTypes = {INTEGER, VARCHAR, DATE, BOOLEAN}
  TxIds = {1, 2, 3}

INVARIANTS
  TypeOK_SchemaEvolution
  Inv_SchemaEvolution_Consistency
  Inv_SchemaEvolution_NonBlockingReads
  Inv_SchemaEvolution_ExclusiveLockMinimal
  Inv_SchemaEvolution_TxIsolation
  Inv_SchemaEvolution_CopyProgress

PROPERTIES
  Prop_SchemaEvolution_Completion
  Prop_SchemaEvolution_NoDeadlock

CONSTRAINT
  \A table \in Tables: copyProgress[table] <= 100
  /\ \A table \in Tables: schemaVersion[table] <= 5

