SPECIFICATION Spec_Stats

CONSTANTS
  MAX_TX = 3
  MAX_LSN = 20
  MAX_PAGES = 10
  Tables = {users, orders, products}
  Columns = {id, name, price, quantity, category}
  MAX_HISTOGRAM_BUCKETS = 10
  STATS_THRESHOLD = 20

INVARIANTS
  TypeOK_Stats
  Inv_Stats_VersionMonotonic
  Inv_Stats_HistogramOrdered
  Inv_Stats_NullFractionValid
  Inv_Stats_SampleSizeValid

PROPERTIES
  Prop_Stats_AnalyzeCompletion
  Prop_Stats_AutoAnalyzeTriggers

CONSTRAINT
  \A table \in Tables: statsVersion[table] <= 10
  /\ \A table \in Tables: modificationCount[table] <= 1000

