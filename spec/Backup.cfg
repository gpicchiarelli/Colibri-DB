SPECIFICATION Spec

CONSTANTS
    DatabaseObjects = {table1, table2, index1}
    BackupDestinations = {disk, tape, cloud}
    MaxBackups = 10
    MaxParallelStreams = 4
    CompressionLevels = {0, 3, 6, 9}
    RetentionDays = 30

    * CORE constants (required since module EXTENDS CORE)
    MAX_TX = 3
    MAX_LSN = 20
    MAX_PAGES = 10
    PAGE_SIZE = 1024

INVARIANTS
    TypeInvariant
    ActiveBackupsValid
    CompletedBackupsInCatalog
    UniqueBackupIds
    IncrementalBackupsHaveParents
    BackupSizesConsistent
    DestinationSpaceValid
    ParallelStreamsLimit
    LSNMonotonic
    BackupCatalogLimit
    NoOverlappingIds
    ValidatedBackupsRestorable

PROPERTIES
    BackupsEventuallyComplete
    ExpiredBackupsRemoved

CONSTRAINT
    currentTime < 1000

