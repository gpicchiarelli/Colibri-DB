warning: 'colibrì-db': found 26 file(s) which are unhandled; explicitly declare them as resources or exclude from the target
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/IntegrationTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/SQLParserTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/FaultInjection.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/PerformanceTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/IsolatedComponentTest.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/StepByStepInitTest.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/IndexSubsystemTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/AuthenticationTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/QueryOptimizerTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/StatisticsMaintenanceTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/MultiDatabaseCatalogTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/DistributedTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/SecurityTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/StressTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/MinimalDatabaseTest.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/AdditionalModulesTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/BufferPoolTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/RecoveryTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/VACUUMTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/BTreeIndexTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/README.md
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/ColibrìDBTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/AdvancedCompilationTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/ChaosEngineering.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/ChaosEngineeringTests.swift.disabled
    /Users/gpicchiarelli/Documents/Colibrì-DB/Tests/ColibriCoreTests/DatabaseTests.swift.disabled
warning: 'colibrì-db': found 1 file(s) which are unhandled; explicitly declare them as resources or exclude from the target
    /Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/README.md
warning: 'colibrì-db': found 1 file(s) which are unhandled; explicitly declare them as resources or exclude from the target
    /Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriServer/README.md
[0/1] Planning build
Building for debugging...
[0/8] Write sources
[1/8] Write swift-version--58304C5D6DBC2206.txt
[3/34] Compiling ColibriCore DatabaseServer.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Server/DatabaseServer.swift:13:24: warning: file 'DatabaseServer.swift' is part of module 'ColibriCore'; ignoring import
 11 | import Foundation
 12 | import Logging
 13 | @preconcurrency import ColibriCore
    |                        `- warning: file 'DatabaseServer.swift' is part of module 'ColibriCore'; ignoring import
 14 | 
 15 | /// Database configuration

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Server/DatabaseServer.swift:65:44: error: extra argument 'label' in call
 63 |         self.config = config
 64 |         self.database = nil  // Will be set by setDatabase()
 65 |         self.logger = ColibriLogger(label: "colibri.server")
    |                                            `- error: extra argument 'label' in call
 66 |     }
 67 |     
[4/34] Compiling ColibriCore ShardingManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Server/DatabaseServer.swift:13:24: warning: file 'DatabaseServer.swift' is part of module 'ColibriCore'; ignoring import
 11 | import Foundation
 12 | import Logging
 13 | @preconcurrency import ColibriCore
    |                        `- warning: file 'DatabaseServer.swift' is part of module 'ColibriCore'; ignoring import
 14 | 
 15 | /// Database configuration

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Server/DatabaseServer.swift:65:44: error: extra argument 'label' in call
 63 |         self.config = config
 64 |         self.database = nil  // Will be set by setDatabase()
 65 |         self.logger = ColibriLogger(label: "colibri.server")
    |                                            `- error: extra argument 'label' in call
 66 |     }
 67 |     
[5/36] Compiling ColibriCore RolesPermissions.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Server/AuthenticatedServer.swift:243:27: warning: will never be executed
217 |         let authenticated = true  // Would call authentication service
218 |         
219 |         if authenticated {
    |            `- note: condition always evaluates to true
220 |             // Create session
221 |             let sessionId = UUID().uuidString
    :
241 |         } else {
242 |             // Authentication failed
243 |             loginAttempts[userId, default: 0] += 1
    |                           `- warning: will never be executed
244 |             
245 |             logAudit(userId: userId, operation: "LOGIN_FAILED", result: "FAILED")
[6/36] Compiling ColibriCore AuthenticatedServer.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Server/AuthenticatedServer.swift:243:27: warning: will never be executed
217 |         let authenticated = true  // Would call authentication service
218 |         
219 |         if authenticated {
    |            `- note: condition always evaluates to true
220 |             // Create session
221 |             let sessionId = UUID().uuidString
    :
241 |         } else {
242 |             // Authentication failed
243 |             loginAttempts[userId, default: 0] += 1
    |                           `- warning: will never be executed
244 |             
245 |             logAudit(userId: userId, operation: "LOGIN_FAILED", result: "FAILED")
[7/36] Compiling ColibriCore TwoPhaseCommit.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/ErrorRecovery/ErrorRecovery.swift:373:19: warning: value 'checkpoint' was defined but never used; consider replacing with boolean test [#no-usage]
371 |         }
372 |         
373 |         guard let checkpoint = latestCheckpoint(component: component) else {
    |                   `- warning: value 'checkpoint' was defined but never used; consider replacing with boolean test [#no-usage]
374 |             throw ErrorRecoveryError.noCheckpointAvailable(component)
375 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Examples/BasicUsage.swift:162:13: warning: immutable value 'queryPlan' was never used; consider replacing with '_' or removing it [#no-usage]
160 |         
161 |         // Create a query plan: SELECT * FROM users WHERE id > 0
162 |         let queryPlan: QueryPlanNode = .filter(
    |             `- warning: immutable value 'queryPlan' was never used; consider replacing with '_' or removing it [#no-usage]
163 |             predicate: "id > 0",
164 |             child: .scan(table: "users")

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Examples/BasicUsage.swift:183:13: warning: initialization of immutable value 'dbConfig' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
181 |     /// Example 6: Database server
182 |     public static func example6_DatabaseServer() async throws {
183 |         let dbConfig = ColibrìDBConfiguration(
    |             `- warning: initialization of immutable value 'dbConfig' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
184 |             dataDirectory: URL(fileURLWithPath: "/tmp/colibridb_data")
185 |         )

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Examples/BasicUsage.swift:218:13: warning: immutable value 'queryPlan' was never used; consider replacing with '_' or removing it [#no-usage]
216 |         
217 |         // Execute query
218 |         let queryPlan: QueryPlanNode = .scan(table: "users")
    |             `- warning: immutable value 'queryPlan' was never used; consider replacing with '_' or removing it [#no-usage]
219 |         let results = try await connection.executeQuery(sql: "SELECT * FROM users")
220 |         print("Query returned \(results.count) rows")
[8/36] Compiling ColibriCore ErrorRecovery.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/ErrorRecovery/ErrorRecovery.swift:373:19: warning: value 'checkpoint' was defined but never used; consider replacing with boolean test [#no-usage]
371 |         }
372 |         
373 |         guard let checkpoint = latestCheckpoint(component: component) else {
    |                   `- warning: value 'checkpoint' was defined but never used; consider replacing with boolean test [#no-usage]
374 |             throw ErrorRecoveryError.noCheckpointAvailable(component)
375 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Examples/BasicUsage.swift:162:13: warning: immutable value 'queryPlan' was never used; consider replacing with '_' or removing it [#no-usage]
160 |         
161 |         // Create a query plan: SELECT * FROM users WHERE id > 0
162 |         let queryPlan: QueryPlanNode = .filter(
    |             `- warning: immutable value 'queryPlan' was never used; consider replacing with '_' or removing it [#no-usage]
163 |             predicate: "id > 0",
164 |             child: .scan(table: "users")

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Examples/BasicUsage.swift:183:13: warning: initialization of immutable value 'dbConfig' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
181 |     /// Example 6: Database server
182 |     public static func example6_DatabaseServer() async throws {
183 |         let dbConfig = ColibrìDBConfiguration(
    |             `- warning: initialization of immutable value 'dbConfig' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
184 |             dataDirectory: URL(fileURLWithPath: "/tmp/colibridb_data")
185 |         )

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Examples/BasicUsage.swift:218:13: warning: immutable value 'queryPlan' was never used; consider replacing with '_' or removing it [#no-usage]
216 |         
217 |         // Execute query
218 |         let queryPlan: QueryPlanNode = .scan(table: "users")
    |             `- warning: immutable value 'queryPlan' was never used; consider replacing with '_' or removing it [#no-usage]
219 |         let results = try await connection.executeQuery(sql: "SELECT * FROM users")
220 |         print("Query returned \(results.count) rows")
[9/36] Compiling ColibriCore BasicUsage.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/ErrorRecovery/ErrorRecovery.swift:373:19: warning: value 'checkpoint' was defined but never used; consider replacing with boolean test [#no-usage]
371 |         }
372 |         
373 |         guard let checkpoint = latestCheckpoint(component: component) else {
    |                   `- warning: value 'checkpoint' was defined but never used; consider replacing with boolean test [#no-usage]
374 |             throw ErrorRecoveryError.noCheckpointAvailable(component)
375 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Examples/BasicUsage.swift:162:13: warning: immutable value 'queryPlan' was never used; consider replacing with '_' or removing it [#no-usage]
160 |         
161 |         // Create a query plan: SELECT * FROM users WHERE id > 0
162 |         let queryPlan: QueryPlanNode = .filter(
    |             `- warning: immutable value 'queryPlan' was never used; consider replacing with '_' or removing it [#no-usage]
163 |             predicate: "id > 0",
164 |             child: .scan(table: "users")

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Examples/BasicUsage.swift:183:13: warning: initialization of immutable value 'dbConfig' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
181 |     /// Example 6: Database server
182 |     public static func example6_DatabaseServer() async throws {
183 |         let dbConfig = ColibrìDBConfiguration(
    |             `- warning: initialization of immutable value 'dbConfig' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
184 |             dataDirectory: URL(fileURLWithPath: "/tmp/colibridb_data")
185 |         )

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Examples/BasicUsage.swift:218:13: warning: immutable value 'queryPlan' was never used; consider replacing with '_' or removing it [#no-usage]
216 |         
217 |         // Execute query
218 |         let queryPlan: QueryPlanNode = .scan(table: "users")
    |             `- warning: immutable value 'queryPlan' was never used; consider replacing with '_' or removing it [#no-usage]
219 |         let results = try await connection.executeQuery(sql: "SELECT * FROM users")
220 |         print("Query returned \(results.count) rows")
error: emit-module command failed with exit code 1 (use -v to see invocation)
[10/36] Emitting module ColibriCore
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Server/DatabaseServer.swift:13:24: warning: file 'DatabaseServer.swift' is part of module 'ColibriCore'; ignoring import
 11 | import Foundation
 12 | import Logging
 13 | @preconcurrency import ColibriCore
    |                        `- warning: file 'DatabaseServer.swift' is part of module 'ColibriCore'; ignoring import
 14 | 
 15 | /// Database configuration

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:125:14: error: value of type 'IndexManagerActor' has no member 'logger'
123 |         self.storageManager = storageManager
124 |         self.bufferManager = bufferManager
125 |         self.logger = ColibriLogger(label: "colibri.index")
    |              `- error: value of type 'IndexManagerActor' has no member 'logger'
126 |         
127 |         // TLA+ Init

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:125:44: error: extra argument 'label' in call
123 |         self.storageManager = storageManager
124 |         self.bufferManager = bufferManager
125 |         self.logger = ColibriLogger(label: "colibri.index")
    |                                            `- error: extra argument 'label' in call
126 |         
127 |         // TLA+ Init

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:18:15: error: inheritance from non-protocol type 'Index'
 16 | 
 17 | /// Wrapper to make BTreeIndex conform to Index protocol
 18 | public struct BTreeIndexWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
 19 |     private let btree: BTreeIndex
 20 |     private let lock = NSLock()

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:73:15: error: inheritance from non-protocol type 'Index'
 71 | 
 72 | /// Wrapper to make ARTIndex conform to Index protocol
 73 | public struct ARTIndexWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
 74 |     private let art: ARTIndex
 75 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:138:15: error: inheritance from non-protocol type 'Index'
136 | 
137 | /// Wrapper to make HashIndex conform to Index protocol
138 | public struct HashIndexWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
139 |     private let hashIndex: HashIndex
140 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:183:15: error: inheritance from non-protocol type 'Index'
181 | 
182 | /// Wrapper to make LSMTree conform to Index protocol
183 | public struct LSMTreeWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
184 |     private let lsm: LSMTree
185 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:226:15: error: inheritance from non-protocol type 'Index'
224 | 
225 | /// Wrapper to make SkipList conform to Index protocol
226 | public struct SkipListWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
227 |     private let skipList: SkipList
228 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/MVCC/MVCCManager.swift:120:44: error: extra argument 'label' in call
118 |         self.transactionManager = DefaultMVCCTransactionManager()
119 |         self.lockManager = DefaultMVCCLockManager()
120 |         self.logger = ColibriLogger(label: "colibri.mvcc")
    |                                            `- error: extra argument 'label' in call
121 |         
122 |         // TLA+ Init

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/MVCC/MVCCManager.swift:137:44: error: extra argument 'label' in call
135 |         self.transactionManager = transactionManager
136 |         self.lockManager = lockManager
137 |         self.logger = ColibriLogger(label: "colibri.mvcc")
    |                                            `- error: extra argument 'label' in call
138 |         
139 |         // TLA+ Init

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Server/DatabaseServer.swift:65:44: error: extra argument 'label' in call
 63 |         self.config = config
 64 |         self.database = nil  // Will be set by setDatabase()
 65 |         self.logger = ColibriLogger(label: "colibri.server")
    |                                            `- error: extra argument 'label' in call
 66 |     }
 67 |     
[11/36] Compiling ColibriCore ForeignKeyConstraints.swift
[12/36] Compiling ColibriCore TypeSystem.swift
[13/36] Compiling ColibriCore Types.swift
[14/36] Compiling ColibriCore MVCCManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/MVCC/MVCCManager.swift:120:44: error: extra argument 'label' in call
118 |         self.transactionManager = DefaultMVCCTransactionManager()
119 |         self.lockManager = DefaultMVCCLockManager()
120 |         self.logger = ColibriLogger(label: "colibri.mvcc")
    |                                            `- error: extra argument 'label' in call
121 |         
122 |         // TLA+ Init

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/MVCC/MVCCManager.swift:137:44: error: extra argument 'label' in call
135 |         self.transactionManager = transactionManager
136 |         self.lockManager = lockManager
137 |         self.logger = ColibriLogger(label: "colibri.mvcc")
    |                                            `- error: extra argument 'label' in call
138 |         
139 |         // TLA+ Init

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/MVCC/MVCCManager.swift:292:22: error: value of type 'ColibriLogger' (aka 'Logger') has no member 'warn'
290 |         }
291 |         
292 |         await logger.warn("Aborted transaction", metadata: ["txId": "\(txId)"])
    |                      `- error: value of type 'ColibriLogger' (aka 'Logger') has no member 'warn'
293 |     }
294 |     
[15/36] Compiling ColibriCore MVCCTypes.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/MVCC/MVCCManager.swift:120:44: error: extra argument 'label' in call
118 |         self.transactionManager = DefaultMVCCTransactionManager()
119 |         self.lockManager = DefaultMVCCLockManager()
120 |         self.logger = ColibriLogger(label: "colibri.mvcc")
    |                                            `- error: extra argument 'label' in call
121 |         
122 |         // TLA+ Init

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/MVCC/MVCCManager.swift:137:44: error: extra argument 'label' in call
135 |         self.transactionManager = transactionManager
136 |         self.lockManager = lockManager
137 |         self.logger = ColibriLogger(label: "colibri.mvcc")
    |                                            `- error: extra argument 'label' in call
138 |         
139 |         // TLA+ Init

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/MVCC/MVCCManager.swift:292:22: error: value of type 'ColibriLogger' (aka 'Logger') has no member 'warn'
290 |         }
291 |         
292 |         await logger.warn("Aborted transaction", metadata: ["txId": "\(txId)"])
    |                      `- error: value of type 'ColibriLogger' (aka 'Logger') has no member 'warn'
293 |     }
294 |     
[16/36] Compiling ColibriCore SerializableSnapshotIsolation.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/MVCC/MVCCManager.swift:120:44: error: extra argument 'label' in call
118 |         self.transactionManager = DefaultMVCCTransactionManager()
119 |         self.lockManager = DefaultMVCCLockManager()
120 |         self.logger = ColibriLogger(label: "colibri.mvcc")
    |                                            `- error: extra argument 'label' in call
121 |         
122 |         // TLA+ Init

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/MVCC/MVCCManager.swift:137:44: error: extra argument 'label' in call
135 |         self.transactionManager = transactionManager
136 |         self.lockManager = lockManager
137 |         self.logger = ColibriLogger(label: "colibri.mvcc")
    |                                            `- error: extra argument 'label' in call
138 |         
139 |         // TLA+ Init

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/MVCC/MVCCManager.swift:292:22: error: value of type 'ColibriLogger' (aka 'Logger') has no member 'warn'
290 |         }
291 |         
292 |         await logger.warn("Aborted transaction", metadata: ["txId": "\(txId)"])
    |                      `- error: value of type 'ColibriLogger' (aka 'Logger') has no member 'warn'
293 |     }
294 |     
[17/76] Compiling ColibriCore RadixTree.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/RadixTree.swift:276:21: warning: immutable value 'grandChildByte' was never used; consider replacing with '_' or removing it [#no-usage]
274 |         if deleted && !child.isLeaf && child.children.count == 1 {
275 |             // Merge child with its single child
276 |             if let (grandChildByte, grandChild) = child.children.first {
    |                     `- warning: immutable value 'grandChildByte' was never used; consider replacing with '_' or removing it [#no-usage]
277 |                 grandChild.prefix = child.prefix + grandChild.prefix
278 |                 node.children[byte] = grandChild

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/RadixTree.swift:339:14: warning: immutable value 'byte' was never used; consider replacing with '_' or removing it [#no-usage]
337 |         }
338 |         
339 |         for (byte, child) in node.children {
    |              `- warning: immutable value 'byte' was never used; consider replacing with '_' or removing it [#no-usage]
340 |             var newPrefix = prefix
341 |             newPrefix.append(contentsOf: child.prefix)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/TTree.swift:235:16: warning: value 'parent' was defined but never used; consider replacing with boolean test [#no-usage]
233 |     private func splitOrRedistribute(node: TTreeNode<Key, Value>, key: Key, value: Value) throws {
234 |         // Try redistribution to siblings first
235 |         if let parent = node.parent {
    |                `- warning: value 'parent' was defined but never used; consider replacing with boolean test [#no-usage]
236 |             // Simplified: just split for now
237 |             try splitNode(node: node, key: key, value: value)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/TTree.swift:279:16: warning: value 'parent' was defined but never used; consider replacing with boolean test [#no-usage]
277 |         
278 |         // Update parent or create new root
279 |         if let parent = node.parent {
    |                `- warning: value 'parent' was defined but never used; consider replacing with boolean test [#no-usage]
280 |             // Link right node to parent
281 |             // Simplified: would need more complex parent update
[18/76] Compiling ColibriCore SkipList.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/RadixTree.swift:276:21: warning: immutable value 'grandChildByte' was never used; consider replacing with '_' or removing it [#no-usage]
274 |         if deleted && !child.isLeaf && child.children.count == 1 {
275 |             // Merge child with its single child
276 |             if let (grandChildByte, grandChild) = child.children.first {
    |                     `- warning: immutable value 'grandChildByte' was never used; consider replacing with '_' or removing it [#no-usage]
277 |                 grandChild.prefix = child.prefix + grandChild.prefix
278 |                 node.children[byte] = grandChild

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/RadixTree.swift:339:14: warning: immutable value 'byte' was never used; consider replacing with '_' or removing it [#no-usage]
337 |         }
338 |         
339 |         for (byte, child) in node.children {
    |              `- warning: immutable value 'byte' was never used; consider replacing with '_' or removing it [#no-usage]
340 |             var newPrefix = prefix
341 |             newPrefix.append(contentsOf: child.prefix)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/TTree.swift:235:16: warning: value 'parent' was defined but never used; consider replacing with boolean test [#no-usage]
233 |     private func splitOrRedistribute(node: TTreeNode<Key, Value>, key: Key, value: Value) throws {
234 |         // Try redistribution to siblings first
235 |         if let parent = node.parent {
    |                `- warning: value 'parent' was defined but never used; consider replacing with boolean test [#no-usage]
236 |             // Simplified: just split for now
237 |             try splitNode(node: node, key: key, value: value)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/TTree.swift:279:16: warning: value 'parent' was defined but never used; consider replacing with boolean test [#no-usage]
277 |         
278 |         // Update parent or create new root
279 |         if let parent = node.parent {
    |                `- warning: value 'parent' was defined but never used; consider replacing with boolean test [#no-usage]
280 |             // Link right node to parent
281 |             // Simplified: would need more complex parent update
[19/76] Compiling ColibriCore TTree.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/RadixTree.swift:276:21: warning: immutable value 'grandChildByte' was never used; consider replacing with '_' or removing it [#no-usage]
274 |         if deleted && !child.isLeaf && child.children.count == 1 {
275 |             // Merge child with its single child
276 |             if let (grandChildByte, grandChild) = child.children.first {
    |                     `- warning: immutable value 'grandChildByte' was never used; consider replacing with '_' or removing it [#no-usage]
277 |                 grandChild.prefix = child.prefix + grandChild.prefix
278 |                 node.children[byte] = grandChild

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/RadixTree.swift:339:14: warning: immutable value 'byte' was never used; consider replacing with '_' or removing it [#no-usage]
337 |         }
338 |         
339 |         for (byte, child) in node.children {
    |              `- warning: immutable value 'byte' was never used; consider replacing with '_' or removing it [#no-usage]
340 |             var newPrefix = prefix
341 |             newPrefix.append(contentsOf: child.prefix)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/TTree.swift:235:16: warning: value 'parent' was defined but never used; consider replacing with boolean test [#no-usage]
233 |     private func splitOrRedistribute(node: TTreeNode<Key, Value>, key: Key, value: Value) throws {
234 |         // Try redistribution to siblings first
235 |         if let parent = node.parent {
    |                `- warning: value 'parent' was defined but never used; consider replacing with boolean test [#no-usage]
236 |             // Simplified: just split for now
237 |             try splitNode(node: node, key: key, value: value)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/TTree.swift:279:16: warning: value 'parent' was defined but never used; consider replacing with boolean test [#no-usage]
277 |         
278 |         // Update parent or create new root
279 |         if let parent = node.parent {
    |                `- warning: value 'parent' was defined but never used; consider replacing with boolean test [#no-usage]
280 |             // Link right node to parent
281 |             // Simplified: would need more complex parent update
[20/76] Compiling ColibriCore ColibrìDB.swift
[21/76] Compiling ColibriCore Clock.swift
[22/76] Compiling ColibriCore DistributedQuery.swift
[23/76] Compiling ColibriCore IndexManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:125:14: error: value of type 'IndexManagerActor' has no member 'logger'
123 |         self.storageManager = storageManager
124 |         self.bufferManager = bufferManager
125 |         self.logger = ColibriLogger(label: "colibri.index")
    |              `- error: value of type 'IndexManagerActor' has no member 'logger'
126 |         
127 |         // TLA+ Init

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:125:44: error: extra argument 'label' in call
123 |         self.storageManager = storageManager
124 |         self.bufferManager = bufferManager
125 |         self.logger = ColibriLogger(label: "colibri.index")
    |                                            `- error: extra argument 'label' in call
126 |         
127 |         // TLA+ Init

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:175:15: error: cannot find 'logger' in scope
173 |         indexMetrics[indexId] = metrics
174 |         
175 |         await logger.info("Created index", metadata: ["name": metadata.name, "id": "\(indexId)"])
    |               `- error: cannot find 'logger' in scope
176 |         return indexId
177 |     }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:193:15: error: cannot find 'logger' in scope
191 |         indexCache.removeValue(forKey: indexId)
192 |         
193 |         await logger.info("Dropped index", metadata: ["id": "\(indexId)"])
    |               `- error: cannot find 'logger' in scope
194 |     }
195 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:226:15: error: cannot find 'logger' in scope
224 |         updateMetrics(indexId: indexId)
225 |         
226 |         await logger.debug("Inserted entry into index", metadata: ["id": "\(indexId)"])
    |               `- error: cannot find 'logger' in scope
227 |     }
228 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:251:19: error: cannot find 'logger' in scope
249 |             updateMetrics(indexId: indexId)
250 |             
251 |             await logger.debug("Deleted entry from index", metadata: ["id": "\(indexId)"])
    |                   `- error: cannot find 'logger' in scope
252 |         } else {
253 |             throw IndexError.entryNotFound

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:271:15: error: cannot find 'logger' in scope
269 |         updateMetrics(indexId: indexId)
270 |         
271 |         await logger.debug("Looked up entries in index", metadata: ["id": "\(indexId)", "key": key])
    |               `- error: cannot find 'logger' in scope
272 |         return entries
273 |     }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:291:15: error: cannot find 'logger' in scope
289 |         updateMetrics(indexId: indexId)
290 |         
291 |         await logger.debug("Range scanned index", metadata: ["id": "\(indexId)", "start": startKey, "end": endKey])
    |               `- error: cannot find 'logger' in scope
292 |         return entries
293 |     }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:423:15: error: cannot find 'logger' in scope
421 |     public func clearIndexCache() async throws {
422 |         indexCache.removeAll()
423 |         await logger.info("Index cache cleared")
    |               `- error: cannot find 'logger' in scope
424 |     }
425 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:444:15: error: cannot find 'logger' in scope
442 |         updateMetrics(indexId: indexId)
443 |         
444 |         await logger.info("Rebuilt index", metadata: ["id": "\(indexId)"])
    |               `- error: cannot find 'logger' in scope
445 |     }
446 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:18:15: error: inheritance from non-protocol type 'Index'
 16 | 
 17 | /// Wrapper to make BTreeIndex conform to Index protocol
 18 | public struct BTreeIndexWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
 19 |     private let btree: BTreeIndex
 20 |     private let lock = NSLock()

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:73:15: error: inheritance from non-protocol type 'Index'
 71 | 
 72 | /// Wrapper to make ARTIndex conform to Index protocol
 73 | public struct ARTIndexWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
 74 |     private let art: ARTIndex
 75 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:138:15: error: inheritance from non-protocol type 'Index'
136 | 
137 | /// Wrapper to make HashIndex conform to Index protocol
138 | public struct HashIndexWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
139 |     private let hashIndex: HashIndex
140 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:183:15: error: inheritance from non-protocol type 'Index'
181 | 
182 | /// Wrapper to make LSMTree conform to Index protocol
183 | public struct LSMTreeWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
184 |     private let lsm: LSMTree
185 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:226:15: error: inheritance from non-protocol type 'Index'
224 | 
225 | /// Wrapper to make SkipList conform to Index protocol
226 | public struct SkipListWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
227 |     private let skipList: SkipList
228 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:31:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 29 |     
 30 |     public func insert(key: Value, rid: RID) async throws {
 31 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 32 |         defer { lock.unlock() }
 33 |         try btree.insert(key: key, rid: rid)

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:32:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 30 |     public func insert(key: Value, rid: RID) async throws {
 31 |         lock.lock()
 32 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 33 |         try btree.insert(key: key, rid: rid)
 34 |     }

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:37:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 35 |     
 36 |     public func seek(key: Value) async throws -> [RID]? {
 37 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 38 |         defer { lock.unlock() }
 39 |         return btree.search(key: key)

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:38:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 36 |     public func seek(key: Value) async throws -> [RID]? {
 37 |         lock.lock()
 38 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 39 |         return btree.search(key: key)
 40 |     }

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:43:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 41 |     
 42 |     public func scan(minKey: Value, maxKey: Value) async throws -> [(Value, [RID])] {
 43 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 44 |         defer { lock.unlock() }
 45 |         return btree.rangeScan(minKey: minKey, maxKey: maxKey)

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:44:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 42 |     public func scan(minKey: Value, maxKey: Value) async throws -> [(Value, [RID])] {
 43 |         lock.lock()
 44 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 45 |         return btree.rangeScan(minKey: minKey, maxKey: maxKey)
 46 |     }

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:49:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 47 |     
 48 |     public func delete(key: Value) async throws {
 49 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 50 |         defer { lock.unlock() }
 51 |         try btree.delete(key: key)

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:50:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 48 |     public func delete(key: Value) async throws {
 49 |         lock.lock()
 50 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 51 |         try btree.delete(key: key)
 52 |     }

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:56:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 54 |     public func rebuild() async throws {
 55 |         // BTreeIndex doesn't have explicit rebuild, but we can verify invariants
 56 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 57 |         defer { lock.unlock() }
 58 |         // Verify invariants are maintained

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:57:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 55 |         // BTreeIndex doesn't have explicit rebuild, but we can verify invariants
 56 |         lock.lock()
 57 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 58 |         // Verify invariants are maintained
 59 |         assert(btree.checkKeyOrderInvariant(), "BTree key order invariant violated")

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:64:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 62 |     
 63 |     public func getCardinality() async throws -> Int {
 64 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 65 |         defer { lock.unlock() }
 66 |         return btree.getKeyCount()

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:65:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 63 |     public func getCardinality() async throws -> Int {
 64 |         lock.lock()
 65 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 66 |         return btree.getKeyCount()
 67 |     }

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:195:15: error: call can throw but is not marked with 'try'
193 |     
194 |     public func insert(key: Value, rid: RID) async throws {
195 |         await lsm.insert(key: key, rid: rid)
    |               |- error: call can throw but is not marked with 'try'
    |               |- note: did you mean to use 'try'?
    |               |- note: did you mean to handle error as optional value?
    |               `- note: did you mean to disable error propagation?
196 |     }
197 |     
[24/76] Compiling ColibriCore IndexWrappers.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:125:14: error: value of type 'IndexManagerActor' has no member 'logger'
123 |         self.storageManager = storageManager
124 |         self.bufferManager = bufferManager
125 |         self.logger = ColibriLogger(label: "colibri.index")
    |              `- error: value of type 'IndexManagerActor' has no member 'logger'
126 |         
127 |         // TLA+ Init

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:125:44: error: extra argument 'label' in call
123 |         self.storageManager = storageManager
124 |         self.bufferManager = bufferManager
125 |         self.logger = ColibriLogger(label: "colibri.index")
    |                                            `- error: extra argument 'label' in call
126 |         
127 |         // TLA+ Init

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:175:15: error: cannot find 'logger' in scope
173 |         indexMetrics[indexId] = metrics
174 |         
175 |         await logger.info("Created index", metadata: ["name": metadata.name, "id": "\(indexId)"])
    |               `- error: cannot find 'logger' in scope
176 |         return indexId
177 |     }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:193:15: error: cannot find 'logger' in scope
191 |         indexCache.removeValue(forKey: indexId)
192 |         
193 |         await logger.info("Dropped index", metadata: ["id": "\(indexId)"])
    |               `- error: cannot find 'logger' in scope
194 |     }
195 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:226:15: error: cannot find 'logger' in scope
224 |         updateMetrics(indexId: indexId)
225 |         
226 |         await logger.debug("Inserted entry into index", metadata: ["id": "\(indexId)"])
    |               `- error: cannot find 'logger' in scope
227 |     }
228 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:251:19: error: cannot find 'logger' in scope
249 |             updateMetrics(indexId: indexId)
250 |             
251 |             await logger.debug("Deleted entry from index", metadata: ["id": "\(indexId)"])
    |                   `- error: cannot find 'logger' in scope
252 |         } else {
253 |             throw IndexError.entryNotFound

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:271:15: error: cannot find 'logger' in scope
269 |         updateMetrics(indexId: indexId)
270 |         
271 |         await logger.debug("Looked up entries in index", metadata: ["id": "\(indexId)", "key": key])
    |               `- error: cannot find 'logger' in scope
272 |         return entries
273 |     }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:291:15: error: cannot find 'logger' in scope
289 |         updateMetrics(indexId: indexId)
290 |         
291 |         await logger.debug("Range scanned index", metadata: ["id": "\(indexId)", "start": startKey, "end": endKey])
    |               `- error: cannot find 'logger' in scope
292 |         return entries
293 |     }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:423:15: error: cannot find 'logger' in scope
421 |     public func clearIndexCache() async throws {
422 |         indexCache.removeAll()
423 |         await logger.info("Index cache cleared")
    |               `- error: cannot find 'logger' in scope
424 |     }
425 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:444:15: error: cannot find 'logger' in scope
442 |         updateMetrics(indexId: indexId)
443 |         
444 |         await logger.info("Rebuilt index", metadata: ["id": "\(indexId)"])
    |               `- error: cannot find 'logger' in scope
445 |     }
446 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:18:15: error: inheritance from non-protocol type 'Index'
 16 | 
 17 | /// Wrapper to make BTreeIndex conform to Index protocol
 18 | public struct BTreeIndexWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
 19 |     private let btree: BTreeIndex
 20 |     private let lock = NSLock()

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:73:15: error: inheritance from non-protocol type 'Index'
 71 | 
 72 | /// Wrapper to make ARTIndex conform to Index protocol
 73 | public struct ARTIndexWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
 74 |     private let art: ARTIndex
 75 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:138:15: error: inheritance from non-protocol type 'Index'
136 | 
137 | /// Wrapper to make HashIndex conform to Index protocol
138 | public struct HashIndexWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
139 |     private let hashIndex: HashIndex
140 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:183:15: error: inheritance from non-protocol type 'Index'
181 | 
182 | /// Wrapper to make LSMTree conform to Index protocol
183 | public struct LSMTreeWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
184 |     private let lsm: LSMTree
185 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:226:15: error: inheritance from non-protocol type 'Index'
224 | 
225 | /// Wrapper to make SkipList conform to Index protocol
226 | public struct SkipListWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
227 |     private let skipList: SkipList
228 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:31:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 29 |     
 30 |     public func insert(key: Value, rid: RID) async throws {
 31 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 32 |         defer { lock.unlock() }
 33 |         try btree.insert(key: key, rid: rid)

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:32:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 30 |     public func insert(key: Value, rid: RID) async throws {
 31 |         lock.lock()
 32 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 33 |         try btree.insert(key: key, rid: rid)
 34 |     }

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:37:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 35 |     
 36 |     public func seek(key: Value) async throws -> [RID]? {
 37 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 38 |         defer { lock.unlock() }
 39 |         return btree.search(key: key)

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:38:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 36 |     public func seek(key: Value) async throws -> [RID]? {
 37 |         lock.lock()
 38 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 39 |         return btree.search(key: key)
 40 |     }

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:43:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 41 |     
 42 |     public func scan(minKey: Value, maxKey: Value) async throws -> [(Value, [RID])] {
 43 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 44 |         defer { lock.unlock() }
 45 |         return btree.rangeScan(minKey: minKey, maxKey: maxKey)

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:44:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 42 |     public func scan(minKey: Value, maxKey: Value) async throws -> [(Value, [RID])] {
 43 |         lock.lock()
 44 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 45 |         return btree.rangeScan(minKey: minKey, maxKey: maxKey)
 46 |     }

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:49:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 47 |     
 48 |     public func delete(key: Value) async throws {
 49 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 50 |         defer { lock.unlock() }
 51 |         try btree.delete(key: key)

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:50:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 48 |     public func delete(key: Value) async throws {
 49 |         lock.lock()
 50 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 51 |         try btree.delete(key: key)
 52 |     }

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:56:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 54 |     public func rebuild() async throws {
 55 |         // BTreeIndex doesn't have explicit rebuild, but we can verify invariants
 56 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 57 |         defer { lock.unlock() }
 58 |         // Verify invariants are maintained

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:57:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 55 |         // BTreeIndex doesn't have explicit rebuild, but we can verify invariants
 56 |         lock.lock()
 57 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 58 |         // Verify invariants are maintained
 59 |         assert(btree.checkKeyOrderInvariant(), "BTree key order invariant violated")

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:64:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 62 |     
 63 |     public func getCardinality() async throws -> Int {
 64 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 65 |         defer { lock.unlock() }
 66 |         return btree.getKeyCount()

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:65:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 63 |     public func getCardinality() async throws -> Int {
 64 |         lock.lock()
 65 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 66 |         return btree.getKeyCount()
 67 |     }

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:195:15: error: call can throw but is not marked with 'try'
193 |     
194 |     public func insert(key: Value, rid: RID) async throws {
195 |         await lsm.insert(key: key, rid: rid)
    |               |- error: call can throw but is not marked with 'try'
    |               |- note: did you mean to use 'try'?
    |               |- note: did you mean to handle error as optional value?
    |               `- note: did you mean to disable error propagation?
196 |     }
197 |     
[25/76] Compiling ColibriCore LSMTree.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:125:14: error: value of type 'IndexManagerActor' has no member 'logger'
123 |         self.storageManager = storageManager
124 |         self.bufferManager = bufferManager
125 |         self.logger = ColibriLogger(label: "colibri.index")
    |              `- error: value of type 'IndexManagerActor' has no member 'logger'
126 |         
127 |         // TLA+ Init

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:125:44: error: extra argument 'label' in call
123 |         self.storageManager = storageManager
124 |         self.bufferManager = bufferManager
125 |         self.logger = ColibriLogger(label: "colibri.index")
    |                                            `- error: extra argument 'label' in call
126 |         
127 |         // TLA+ Init

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:175:15: error: cannot find 'logger' in scope
173 |         indexMetrics[indexId] = metrics
174 |         
175 |         await logger.info("Created index", metadata: ["name": metadata.name, "id": "\(indexId)"])
    |               `- error: cannot find 'logger' in scope
176 |         return indexId
177 |     }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:193:15: error: cannot find 'logger' in scope
191 |         indexCache.removeValue(forKey: indexId)
192 |         
193 |         await logger.info("Dropped index", metadata: ["id": "\(indexId)"])
    |               `- error: cannot find 'logger' in scope
194 |     }
195 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:226:15: error: cannot find 'logger' in scope
224 |         updateMetrics(indexId: indexId)
225 |         
226 |         await logger.debug("Inserted entry into index", metadata: ["id": "\(indexId)"])
    |               `- error: cannot find 'logger' in scope
227 |     }
228 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:251:19: error: cannot find 'logger' in scope
249 |             updateMetrics(indexId: indexId)
250 |             
251 |             await logger.debug("Deleted entry from index", metadata: ["id": "\(indexId)"])
    |                   `- error: cannot find 'logger' in scope
252 |         } else {
253 |             throw IndexError.entryNotFound

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:271:15: error: cannot find 'logger' in scope
269 |         updateMetrics(indexId: indexId)
270 |         
271 |         await logger.debug("Looked up entries in index", metadata: ["id": "\(indexId)", "key": key])
    |               `- error: cannot find 'logger' in scope
272 |         return entries
273 |     }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:291:15: error: cannot find 'logger' in scope
289 |         updateMetrics(indexId: indexId)
290 |         
291 |         await logger.debug("Range scanned index", metadata: ["id": "\(indexId)", "start": startKey, "end": endKey])
    |               `- error: cannot find 'logger' in scope
292 |         return entries
293 |     }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:423:15: error: cannot find 'logger' in scope
421 |     public func clearIndexCache() async throws {
422 |         indexCache.removeAll()
423 |         await logger.info("Index cache cleared")
    |               `- error: cannot find 'logger' in scope
424 |     }
425 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Index/IndexManager.swift:444:15: error: cannot find 'logger' in scope
442 |         updateMetrics(indexId: indexId)
443 |         
444 |         await logger.info("Rebuilt index", metadata: ["id": "\(indexId)"])
    |               `- error: cannot find 'logger' in scope
445 |     }
446 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:18:15: error: inheritance from non-protocol type 'Index'
 16 | 
 17 | /// Wrapper to make BTreeIndex conform to Index protocol
 18 | public struct BTreeIndexWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
 19 |     private let btree: BTreeIndex
 20 |     private let lock = NSLock()

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:73:15: error: inheritance from non-protocol type 'Index'
 71 | 
 72 | /// Wrapper to make ARTIndex conform to Index protocol
 73 | public struct ARTIndexWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
 74 |     private let art: ARTIndex
 75 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:138:15: error: inheritance from non-protocol type 'Index'
136 | 
137 | /// Wrapper to make HashIndex conform to Index protocol
138 | public struct HashIndexWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
139 |     private let hashIndex: HashIndex
140 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:183:15: error: inheritance from non-protocol type 'Index'
181 | 
182 | /// Wrapper to make LSMTree conform to Index protocol
183 | public struct LSMTreeWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
184 |     private let lsm: LSMTree
185 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:226:15: error: inheritance from non-protocol type 'Index'
224 | 
225 | /// Wrapper to make SkipList conform to Index protocol
226 | public struct SkipListWrapper: Index {
    |               `- error: inheritance from non-protocol type 'Index'
227 |     private let skipList: SkipList
228 |     

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:31:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 29 |     
 30 |     public func insert(key: Value, rid: RID) async throws {
 31 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 32 |         defer { lock.unlock() }
 33 |         try btree.insert(key: key, rid: rid)

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:32:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 30 |     public func insert(key: Value, rid: RID) async throws {
 31 |         lock.lock()
 32 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 33 |         try btree.insert(key: key, rid: rid)
 34 |     }

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:37:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 35 |     
 36 |     public func seek(key: Value) async throws -> [RID]? {
 37 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 38 |         defer { lock.unlock() }
 39 |         return btree.search(key: key)

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:38:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 36 |     public func seek(key: Value) async throws -> [RID]? {
 37 |         lock.lock()
 38 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 39 |         return btree.search(key: key)
 40 |     }

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:43:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 41 |     
 42 |     public func scan(minKey: Value, maxKey: Value) async throws -> [(Value, [RID])] {
 43 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 44 |         defer { lock.unlock() }
 45 |         return btree.rangeScan(minKey: minKey, maxKey: maxKey)

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:44:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 42 |     public func scan(minKey: Value, maxKey: Value) async throws -> [(Value, [RID])] {
 43 |         lock.lock()
 44 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 45 |         return btree.rangeScan(minKey: minKey, maxKey: maxKey)
 46 |     }

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:49:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 47 |     
 48 |     public func delete(key: Value) async throws {
 49 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 50 |         defer { lock.unlock() }
 51 |         try btree.delete(key: key)

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:50:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 48 |     public func delete(key: Value) async throws {
 49 |         lock.lock()
 50 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 51 |         try btree.delete(key: key)
 52 |     }

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:56:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 54 |     public func rebuild() async throws {
 55 |         // BTreeIndex doesn't have explicit rebuild, but we can verify invariants
 56 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 57 |         defer { lock.unlock() }
 58 |         // Verify invariants are maintained

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:57:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 55 |         // BTreeIndex doesn't have explicit rebuild, but we can verify invariants
 56 |         lock.lock()
 57 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 58 |         // Verify invariants are maintained
 59 |         assert(btree.checkKeyOrderInvariant(), "BTree key order invariant violated")

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:64:14: error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 62 |     
 63 |     public func getCardinality() async throws -> Int {
 64 |         lock.lock()
    |              `- error: instance method 'lock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 65 |         defer { lock.unlock() }
 66 |         return btree.getKeyCount()

Foundation.NSLock.lock:2:11: note: 'lock()' declared here
1 | class NSLock {
2 | open func lock()}
  |           `- note: 'lock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:65:22: error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 63 |     public func getCardinality() async throws -> Int {
 64 |         lock.lock()
 65 |         defer { lock.unlock() }
    |                      `- error: instance method 'unlock' is unavailable from asynchronous contexts; Use async-safe scoped locking instead
 66 |         return btree.getKeyCount()
 67 |     }

Foundation.NSLock.unlock:2:11: note: 'unlock()' declared here
1 | class NSLock {
2 | open func unlock()}
  |           `- note: 'unlock()' declared here
3 | 

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexWrappers.swift:195:15: error: call can throw but is not marked with 'try'
193 |     
194 |     public func insert(key: Value, rid: RID) async throws {
195 |         await lsm.insert(key: key, rid: rid)
    |               |- error: call can throw but is not marked with 'try'
    |               |- note: did you mean to use 'try'?
    |               |- note: did you mean to handle error as optional value?
    |               `- note: did you mean to disable error propagation?
196 |     }
197 |     
[26/98] Compiling ColibriCore TransactionMVCCAdapter.swift
[27/98] Compiling ColibriCore SystemMonitor.swift
[28/98] Compiling ColibriCore Authorization.swift
[29/105] Compiling ColibriCore StatisticsMaintenance.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Statistics/StatisticsMaintenance.swift:309:13: warning: initialization of immutable value 'minValue' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
307 |         
308 |         // Min/Max
309 |         let minValue = values.min { compareValues($0, $1) < 0 }
    |             `- warning: initialization of immutable value 'minValue' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
310 |         let maxValue = values.max { compareValues($0, $1) < 0 }
311 |         

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Statistics/StatisticsMaintenance.swift:310:13: warning: initialization of immutable value 'maxValue' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
308 |         // Min/Max
309 |         let minValue = values.min { compareValues($0, $1) < 0 }
310 |         let maxValue = values.max { compareValues($0, $1) < 0 }
    |             `- warning: initialization of immutable value 'maxValue' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
311 |         
312 |         // Average width
[30/105] Compiling ColibriCore Logger.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Statistics/StatisticsMaintenance.swift:309:13: warning: initialization of immutable value 'minValue' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
307 |         
308 |         // Min/Max
309 |         let minValue = values.min { compareValues($0, $1) < 0 }
    |             `- warning: initialization of immutable value 'minValue' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
310 |         let maxValue = values.max { compareValues($0, $1) < 0 }
311 |         

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Statistics/StatisticsMaintenance.swift:310:13: warning: initialization of immutable value 'maxValue' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
308 |         // Min/Max
309 |         let minValue = values.min { compareValues($0, $1) < 0 }
310 |         let maxValue = values.max { compareValues($0, $1) < 0 }
    |             `- warning: initialization of immutable value 'maxValue' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
311 |         
312 |         // Average width
[31/112] Compiling ColibriCore ConnectionPooling.swift
[32/112] Compiling ColibriCore MultiDatabaseCatalog.swift
[33/112] Compiling ColibriCore ResourceQuotas.swift
[34/112] Compiling ColibriCore ConnectionManager.swift
[35/112] Compiling ColibriCore WireProtocol.swift
[36/112] Compiling ColibriCore Compression.swift
[37/112] Compiling ColibriCore OptimizationManager.swift
[38/112] Compiling ColibriCore Benchmarking.swift
[39/112] Compiling ColibriCore FileWAL.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/WAL/FileWAL.swift:206:17: warning: no 'async' operations occur within 'await' expression
204 |         // TLA+: Flush all pending records to disk
205 |         for record in pendingRecords {
206 |             try await writeRecordToDisk(record)
    |                 `- warning: no 'async' operations occur within 'await' expression
207 |             flushedLSN = max(flushedLSN, record.lsn)
208 |         }
[40/112] Compiling ColibriCore GroupCommit.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/WAL/FileWAL.swift:206:17: warning: no 'async' operations occur within 'await' expression
204 |         // TLA+: Flush all pending records to disk
205 |         for record in pendingRecords {
206 |             try await writeRecordToDisk(record)
    |                 `- warning: no 'async' operations occur within 'await' expression
207 |             flushedLSN = max(flushedLSN, record.lsn)
208 |         }
[41/112] Compiling ColibriCore GroupCommitManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/WAL/FileWAL.swift:206:17: warning: no 'async' operations occur within 'await' expression
204 |         // TLA+: Flush all pending records to disk
205 |         for record in pendingRecords {
206 |             try await writeRecordToDisk(record)
    |                 `- warning: no 'async' operations occur within 'await' expression
207 |             flushedLSN = max(flushedLSN, record.lsn)
208 |         }
[42/112] Compiling ColibriCore TransactionWALAdapter.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/WAL/FileWAL.swift:206:17: warning: no 'async' operations occur within 'await' expression
204 |         // TLA+: Flush all pending records to disk
205 |         for record in pendingRecords {
206 |             try await writeRecordToDisk(record)
    |                 `- warning: no 'async' operations occur within 'await' expression
207 |             flushedLSN = max(flushedLSN, record.lsn)
208 |         }
[43/112] Compiling ColibriCore WALManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/WAL/FileWAL.swift:206:17: warning: no 'async' operations occur within 'await' expression
204 |         // TLA+: Flush all pending records to disk
205 |         for record in pendingRecords {
206 |             try await writeRecordToDisk(record)
    |                 `- warning: no 'async' operations occur within 'await' expression
207 |             flushedLSN = max(flushedLSN, record.lsn)
208 |         }
[44/112] Compiling ColibriCore WALRecord.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/WAL/FileWAL.swift:206:17: warning: no 'async' operations occur within 'await' expression
204 |         // TLA+: Flush all pending records to disk
205 |         for record in pendingRecords {
206 |             try await writeRecordToDisk(record)
    |                 `- warning: no 'async' operations occur within 'await' expression
207 |             flushedLSN = max(flushedLSN, record.lsn)
208 |         }
[45/112] Compiling ColibriCore WALTypes.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/WAL/FileWAL.swift:206:17: warning: no 'async' operations occur within 'await' expression
204 |         // TLA+: Flush all pending records to disk
205 |         for record in pendingRecords {
206 |             try await writeRecordToDisk(record)
    |                 `- warning: no 'async' operations occur within 'await' expression
207 |             flushedLSN = max(flushedLSN, record.lsn)
208 |         }
[46/112] Compiling ColibriCore TestingFramework.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Transaction/LockManager.swift:166:19: warning: value 'currentMode' was defined but never used; consider replacing with boolean test [#no-usage]
164 |     public func upgradeLock(txId: TxID, resource: Resource, newMode: LockMode) async throws {
165 |         // TLA+: Check if transaction holds lock
166 |         guard let currentMode = locks[resource]?[txId] else {
    |                   `- warning: value 'currentMode' was defined but never used; consider replacing with boolean test [#no-usage]
167 |             throw LockManagerError.lockNotHeld
168 |         }
[47/112] Compiling ColibriCore LockManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Transaction/LockManager.swift:166:19: warning: value 'currentMode' was defined but never used; consider replacing with boolean test [#no-usage]
164 |     public func upgradeLock(txId: TxID, resource: Resource, newMode: LockMode) async throws {
165 |         // TLA+: Check if transaction holds lock
166 |         guard let currentMode = locks[resource]?[txId] else {
    |                   `- warning: value 'currentMode' was defined but never used; consider replacing with boolean test [#no-usage]
167 |             throw LockManagerError.lockNotHeld
168 |         }
[48/112] Compiling ColibriCore TransactionManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Transaction/LockManager.swift:166:19: warning: value 'currentMode' was defined but never used; consider replacing with boolean test [#no-usage]
164 |     public func upgradeLock(txId: TxID, resource: Resource, newMode: LockMode) async throws {
165 |         // TLA+: Check if transaction holds lock
166 |         guard let currentMode = locks[resource]?[txId] else {
    |                   `- warning: value 'currentMode' was defined but never used; consider replacing with boolean test [#no-usage]
167 |             throw LockManagerError.lockNotHeld
168 |         }
[49/112] Compiling ColibriCore TransactionProcessor.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Transaction/LockManager.swift:166:19: warning: value 'currentMode' was defined but never used; consider replacing with boolean test [#no-usage]
164 |     public func upgradeLock(txId: TxID, resource: Resource, newMode: LockMode) async throws {
165 |         // TLA+: Check if transaction holds lock
166 |         guard let currentMode = locks[resource]?[txId] else {
    |                   `- warning: value 'currentMode' was defined but never used; consider replacing with boolean test [#no-usage]
167 |             throw LockManagerError.lockNotHeld
168 |         }
[50/112] Compiling ColibriCore TwoPhaseCommitManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Transaction/LockManager.swift:166:19: warning: value 'currentMode' was defined but never used; consider replacing with boolean test [#no-usage]
164 |     public func upgradeLock(txId: TxID, resource: Resource, newMode: LockMode) async throws {
165 |         // TLA+: Check if transaction holds lock
166 |         guard let currentMode = locks[resource]?[txId] else {
    |                   `- warning: value 'currentMode' was defined but never used; consider replacing with boolean test [#no-usage]
167 |             throw LockManagerError.lockNotHeld
168 |         }
[51/112] Compiling ColibriCore UtilityManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Transaction/LockManager.swift:166:19: warning: value 'currentMode' was defined but never used; consider replacing with boolean test [#no-usage]
164 |     public func upgradeLock(txId: TxID, resource: Resource, newMode: LockMode) async throws {
165 |         // TLA+: Check if transaction holds lock
166 |         guard let currentMode = locks[resource]?[txId] else {
    |                   `- warning: value 'currentMode' was defined but never used; consider replacing with boolean test [#no-usage]
167 |             throw LockManagerError.lockNotHeld
168 |         }
[52/112] Compiling ColibriCore Extensions.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Transaction/LockManager.swift:166:19: warning: value 'currentMode' was defined but never used; consider replacing with boolean test [#no-usage]
164 |     public func upgradeLock(txId: TxID, resource: Resource, newMode: LockMode) async throws {
165 |         // TLA+: Check if transaction holds lock
166 |         guard let currentMode = locks[resource]?[txId] else {
    |                   `- warning: value 'currentMode' was defined but never used; consider replacing with boolean test [#no-usage]
167 |             throw LockManagerError.lockNotHeld
168 |         }
[53/112] Compiling ColibriCore DistributedClockManager.swift
[54/112] Compiling ColibriCore RaftConsensusManager.swift
[55/112] Compiling ColibriCore ConsensusProtocol.swift
[56/112] Compiling ColibriCore DistributedQueryManager.swift
[57/112] Compiling ColibriCore DistributedTransactionManager.swift
[58/112] Compiling ColibriCore LoadBalancer.swift
[59/112] Compiling ColibriCore Sharding.swift
[60/112] Compiling ColibriCore ARTIndex.swift
[61/112] Compiling ColibriCore QueryOptimizer.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Recovery/ARIESRecoveryManager.swift:330:50: warning: cast from 'any WALRecord' to unrelated type 'CheckpointRecord' always fails
328 |             } else if record.kind == .checkpoint {
329 |                 // TLA+: Initialize DPT
330 |                 if let checkpointRecord = record as? CheckpointRecord {
    |                                                  `- warning: cast from 'any WALRecord' to unrelated type 'CheckpointRecord' always fails
331 |                     for (pageId, _) in checkpointRecord.dirtyPageTable {
332 |                         dpt[pageId] = DPTEntry(pageId: pageId, recLSN: lsn)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Recovery/PointInTimeRecovery.swift:523:9: warning: switch must be exhaustive
521 |     /// Helper function to check if record is before target without data race issues
522 |     private nonisolated static func beforeTargetHelper(record: LogRecord, target: RecoveryTarget) -> Bool {
523 |         switch target.type {
    |         |- warning: switch must be exhaustive
    |         |- note: add missing case: '.name'
    |         |- note: add missing case: '.immediate'
    |         `- note: add missing cases
524 |         case .lsn:
525 |             if case .lsn(let targetLSN) = target.value {
[62/112] Compiling ColibriCore QueryPipeline.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Recovery/ARIESRecoveryManager.swift:330:50: warning: cast from 'any WALRecord' to unrelated type 'CheckpointRecord' always fails
328 |             } else if record.kind == .checkpoint {
329 |                 // TLA+: Initialize DPT
330 |                 if let checkpointRecord = record as? CheckpointRecord {
    |                                                  `- warning: cast from 'any WALRecord' to unrelated type 'CheckpointRecord' always fails
331 |                     for (pageId, _) in checkpointRecord.dirtyPageTable {
332 |                         dpt[pageId] = DPTEntry(pageId: pageId, recLSN: lsn)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Recovery/PointInTimeRecovery.swift:523:9: warning: switch must be exhaustive
521 |     /// Helper function to check if record is before target without data race issues
522 |     private nonisolated static func beforeTargetHelper(record: LogRecord, target: RecoveryTarget) -> Bool {
523 |         switch target.type {
    |         |- warning: switch must be exhaustive
    |         |- note: add missing case: '.name'
    |         |- note: add missing case: '.immediate'
    |         `- note: add missing cases
524 |         case .lsn:
525 |             if case .lsn(let targetLSN) = target.value {
[63/112] Compiling ColibriCore SQLParser.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Recovery/ARIESRecoveryManager.swift:330:50: warning: cast from 'any WALRecord' to unrelated type 'CheckpointRecord' always fails
328 |             } else if record.kind == .checkpoint {
329 |                 // TLA+: Initialize DPT
330 |                 if let checkpointRecord = record as? CheckpointRecord {
    |                                                  `- warning: cast from 'any WALRecord' to unrelated type 'CheckpointRecord' always fails
331 |                     for (pageId, _) in checkpointRecord.dirtyPageTable {
332 |                         dpt[pageId] = DPTEntry(pageId: pageId, recLSN: lsn)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Recovery/PointInTimeRecovery.swift:523:9: warning: switch must be exhaustive
521 |     /// Helper function to check if record is before target without data race issues
522 |     private nonisolated static func beforeTargetHelper(record: LogRecord, target: RecoveryTarget) -> Bool {
523 |         switch target.type {
    |         |- warning: switch must be exhaustive
    |         |- note: add missing case: '.name'
    |         |- note: add missing case: '.immediate'
    |         `- note: add missing cases
524 |         case .lsn:
525 |             if case .lsn(let targetLSN) = target.value {
[64/112] Compiling ColibriCore WindowFunctions.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Recovery/ARIESRecoveryManager.swift:330:50: warning: cast from 'any WALRecord' to unrelated type 'CheckpointRecord' always fails
328 |             } else if record.kind == .checkpoint {
329 |                 // TLA+: Initialize DPT
330 |                 if let checkpointRecord = record as? CheckpointRecord {
    |                                                  `- warning: cast from 'any WALRecord' to unrelated type 'CheckpointRecord' always fails
331 |                     for (pageId, _) in checkpointRecord.dirtyPageTable {
332 |                         dpt[pageId] = DPTEntry(pageId: pageId, recLSN: lsn)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Recovery/PointInTimeRecovery.swift:523:9: warning: switch must be exhaustive
521 |     /// Helper function to check if record is before target without data race issues
522 |     private nonisolated static func beforeTargetHelper(record: LogRecord, target: RecoveryTarget) -> Bool {
523 |         switch target.type {
    |         |- warning: switch must be exhaustive
    |         |- note: add missing case: '.name'
    |         |- note: add missing case: '.immediate'
    |         `- note: add missing cases
524 |         case .lsn:
525 |             if case .lsn(let targetLSN) = target.value {
[65/112] Compiling ColibriCore ARIESRecovery.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Recovery/ARIESRecoveryManager.swift:330:50: warning: cast from 'any WALRecord' to unrelated type 'CheckpointRecord' always fails
328 |             } else if record.kind == .checkpoint {
329 |                 // TLA+: Initialize DPT
330 |                 if let checkpointRecord = record as? CheckpointRecord {
    |                                                  `- warning: cast from 'any WALRecord' to unrelated type 'CheckpointRecord' always fails
331 |                     for (pageId, _) in checkpointRecord.dirtyPageTable {
332 |                         dpt[pageId] = DPTEntry(pageId: pageId, recLSN: lsn)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Recovery/PointInTimeRecovery.swift:523:9: warning: switch must be exhaustive
521 |     /// Helper function to check if record is before target without data race issues
522 |     private nonisolated static func beforeTargetHelper(record: LogRecord, target: RecoveryTarget) -> Bool {
523 |         switch target.type {
    |         |- warning: switch must be exhaustive
    |         |- note: add missing case: '.name'
    |         |- note: add missing case: '.immediate'
    |         `- note: add missing cases
524 |         case .lsn:
525 |             if case .lsn(let targetLSN) = target.value {
[66/112] Compiling ColibriCore ARIESRecoveryManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Recovery/ARIESRecoveryManager.swift:330:50: warning: cast from 'any WALRecord' to unrelated type 'CheckpointRecord' always fails
328 |             } else if record.kind == .checkpoint {
329 |                 // TLA+: Initialize DPT
330 |                 if let checkpointRecord = record as? CheckpointRecord {
    |                                                  `- warning: cast from 'any WALRecord' to unrelated type 'CheckpointRecord' always fails
331 |                     for (pageId, _) in checkpointRecord.dirtyPageTable {
332 |                         dpt[pageId] = DPTEntry(pageId: pageId, recLSN: lsn)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Recovery/PointInTimeRecovery.swift:523:9: warning: switch must be exhaustive
521 |     /// Helper function to check if record is before target without data race issues
522 |     private nonisolated static func beforeTargetHelper(record: LogRecord, target: RecoveryTarget) -> Bool {
523 |         switch target.type {
    |         |- warning: switch must be exhaustive
    |         |- note: add missing case: '.name'
    |         |- note: add missing case: '.immediate'
    |         `- note: add missing cases
524 |         case .lsn:
525 |             if case .lsn(let targetLSN) = target.value {
[67/112] Compiling ColibriCore PointInTimeRecovery.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Recovery/ARIESRecoveryManager.swift:330:50: warning: cast from 'any WALRecord' to unrelated type 'CheckpointRecord' always fails
328 |             } else if record.kind == .checkpoint {
329 |                 // TLA+: Initialize DPT
330 |                 if let checkpointRecord = record as? CheckpointRecord {
    |                                                  `- warning: cast from 'any WALRecord' to unrelated type 'CheckpointRecord' always fails
331 |                     for (pageId, _) in checkpointRecord.dirtyPageTable {
332 |                         dpt[pageId] = DPTEntry(pageId: pageId, recLSN: lsn)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Recovery/PointInTimeRecovery.swift:523:9: warning: switch must be exhaustive
521 |     /// Helper function to check if record is before target without data race issues
522 |     private nonisolated static func beforeTargetHelper(record: LogRecord, target: RecoveryTarget) -> Bool {
523 |         switch target.type {
    |         |- warning: switch must be exhaustive
    |         |- note: add missing case: '.name'
    |         |- note: add missing case: '.immediate'
    |         `- note: add missing cases
524 |         case .lsn:
525 |             if case .lsn(let targetLSN) = target.value {
[68/112] Compiling ColibriCore RECOVERY.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Recovery/ARIESRecoveryManager.swift:330:50: warning: cast from 'any WALRecord' to unrelated type 'CheckpointRecord' always fails
328 |             } else if record.kind == .checkpoint {
329 |                 // TLA+: Initialize DPT
330 |                 if let checkpointRecord = record as? CheckpointRecord {
    |                                                  `- warning: cast from 'any WALRecord' to unrelated type 'CheckpointRecord' always fails
331 |                     for (pageId, _) in checkpointRecord.dirtyPageTable {
332 |                         dpt[pageId] = DPTEntry(pageId: pageId, recLSN: lsn)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Recovery/PointInTimeRecovery.swift:523:9: warning: switch must be exhaustive
521 |     /// Helper function to check if record is before target without data race issues
522 |     private nonisolated static func beforeTargetHelper(record: LogRecord, target: RecoveryTarget) -> Bool {
523 |         switch target.type {
    |         |- warning: switch must be exhaustive
    |         |- note: add missing case: '.name'
    |         |- note: add missing case: '.immediate'
    |         `- note: add missing cases
524 |         case .lsn:
525 |             if case .lsn(let targetLSN) = target.value {
[69/112] Compiling ColibriCore RecoverySubsystem.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:199:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
197 |     public func promoteToPrimary(replicaId: String) throws {
198 |         // TLA+: Check if replica exists
199 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
200 |             throw ReplicationError.replicaNotFound
201 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:223:22: warning: variable 'otherReplica' was never mutated; consider removing 'var' to make it constant
221 |         
222 |         // TLA+: Demote old primary
223 |         for (id, var otherReplica) in replicas {
    |                      `- warning: variable 'otherReplica' was never mutated; consider removing 'var' to make it constant
224 |             if id != replicaId && otherReplica.role == .primary {
225 |                 let demotedReplica = ReplicaMetadata(

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:340:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
338 |     private func sendToReplica(_ replicaId: String, _ logEntry: ReplicationLogEntry) async throws {
339 |         // TLA+: Update replica metadata
340 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
341 |             throw ReplicationError.replicaNotFound
342 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:414:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
412 |     public func repairReplica(replicaId: String) async throws {
413 |         // TLA+: Check if replica exists
414 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
415 |             throw ReplicationError.replicaNotFound
416 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:456:16: warning: variable 'replica' was never mutated; consider changing to 'let' constant
454 |     /// Update replica health
455 |     public func updateReplicaHealth(replicaId: String, isHealthy: Bool) {
456 |         if var replica = replicas[replicaId] {
    |                `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
457 |             let updatedReplica = ReplicaMetadata(
458 |                 replicaId: replica.replicaId,

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTable.swift:207:13: warning: initialization of immutable value 'page' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
205 |         
206 |         // Initialize empty page
207 |         let page = Page(pageID: newPageID)
    |             `- warning: initialization of immutable value 'page' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
208 |         freeSpaceMap[newPageID] = PAGE_SIZE - MemoryLayout<PageHeader>.size
209 |         
[70/112] Compiling ColibriCore ReplicationManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:199:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
197 |     public func promoteToPrimary(replicaId: String) throws {
198 |         // TLA+: Check if replica exists
199 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
200 |             throw ReplicationError.replicaNotFound
201 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:223:22: warning: variable 'otherReplica' was never mutated; consider removing 'var' to make it constant
221 |         
222 |         // TLA+: Demote old primary
223 |         for (id, var otherReplica) in replicas {
    |                      `- warning: variable 'otherReplica' was never mutated; consider removing 'var' to make it constant
224 |             if id != replicaId && otherReplica.role == .primary {
225 |                 let demotedReplica = ReplicaMetadata(

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:340:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
338 |     private func sendToReplica(_ replicaId: String, _ logEntry: ReplicationLogEntry) async throws {
339 |         // TLA+: Update replica metadata
340 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
341 |             throw ReplicationError.replicaNotFound
342 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:414:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
412 |     public func repairReplica(replicaId: String) async throws {
413 |         // TLA+: Check if replica exists
414 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
415 |             throw ReplicationError.replicaNotFound
416 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:456:16: warning: variable 'replica' was never mutated; consider changing to 'let' constant
454 |     /// Update replica health
455 |     public func updateReplicaHealth(replicaId: String, isHealthy: Bool) {
456 |         if var replica = replicas[replicaId] {
    |                `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
457 |             let updatedReplica = ReplicaMetadata(
458 |                 replicaId: replica.replicaId,

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTable.swift:207:13: warning: initialization of immutable value 'page' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
205 |         
206 |         // Initialize empty page
207 |         let page = Page(pageID: newPageID)
    |             `- warning: initialization of immutable value 'page' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
208 |         freeSpaceMap[newPageID] = PAGE_SIZE - MemoryLayout<PageHeader>.size
209 |         
[71/112] Compiling ColibriCore ConstraintManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:199:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
197 |     public func promoteToPrimary(replicaId: String) throws {
198 |         // TLA+: Check if replica exists
199 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
200 |             throw ReplicationError.replicaNotFound
201 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:223:22: warning: variable 'otherReplica' was never mutated; consider removing 'var' to make it constant
221 |         
222 |         // TLA+: Demote old primary
223 |         for (id, var otherReplica) in replicas {
    |                      `- warning: variable 'otherReplica' was never mutated; consider removing 'var' to make it constant
224 |             if id != replicaId && otherReplica.role == .primary {
225 |                 let demotedReplica = ReplicaMetadata(

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:340:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
338 |     private func sendToReplica(_ replicaId: String, _ logEntry: ReplicationLogEntry) async throws {
339 |         // TLA+: Update replica metadata
340 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
341 |             throw ReplicationError.replicaNotFound
342 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:414:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
412 |     public func repairReplica(replicaId: String) async throws {
413 |         // TLA+: Check if replica exists
414 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
415 |             throw ReplicationError.replicaNotFound
416 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:456:16: warning: variable 'replica' was never mutated; consider changing to 'let' constant
454 |     /// Update replica health
455 |     public func updateReplicaHealth(replicaId: String, isHealthy: Bool) {
456 |         if var replica = replicas[replicaId] {
    |                `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
457 |             let updatedReplica = ReplicaMetadata(
458 |                 replicaId: replica.replicaId,

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTable.swift:207:13: warning: initialization of immutable value 'page' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
205 |         
206 |         // Initialize empty page
207 |         let page = Page(pageID: newPageID)
    |             `- warning: initialization of immutable value 'page' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
208 |         freeSpaceMap[newPageID] = PAGE_SIZE - MemoryLayout<PageHeader>.size
209 |         
[72/112] Compiling ColibriCore QueryExecutorManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:199:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
197 |     public func promoteToPrimary(replicaId: String) throws {
198 |         // TLA+: Check if replica exists
199 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
200 |             throw ReplicationError.replicaNotFound
201 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:223:22: warning: variable 'otherReplica' was never mutated; consider removing 'var' to make it constant
221 |         
222 |         // TLA+: Demote old primary
223 |         for (id, var otherReplica) in replicas {
    |                      `- warning: variable 'otherReplica' was never mutated; consider removing 'var' to make it constant
224 |             if id != replicaId && otherReplica.role == .primary {
225 |                 let demotedReplica = ReplicaMetadata(

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:340:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
338 |     private func sendToReplica(_ replicaId: String, _ logEntry: ReplicationLogEntry) async throws {
339 |         // TLA+: Update replica metadata
340 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
341 |             throw ReplicationError.replicaNotFound
342 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:414:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
412 |     public func repairReplica(replicaId: String) async throws {
413 |         // TLA+: Check if replica exists
414 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
415 |             throw ReplicationError.replicaNotFound
416 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:456:16: warning: variable 'replica' was never mutated; consider changing to 'let' constant
454 |     /// Update replica health
455 |     public func updateReplicaHealth(replicaId: String, isHealthy: Bool) {
456 |         if var replica = replicas[replicaId] {
    |                `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
457 |             let updatedReplica = ReplicaMetadata(
458 |                 replicaId: replica.replicaId,

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTable.swift:207:13: warning: initialization of immutable value 'page' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
205 |         
206 |         // Initialize empty page
207 |         let page = Page(pageID: newPageID)
    |             `- warning: initialization of immutable value 'page' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
208 |         freeSpaceMap[newPageID] = PAGE_SIZE - MemoryLayout<PageHeader>.size
209 |         
[73/112] Compiling ColibriCore QueryOptimizerManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:199:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
197 |     public func promoteToPrimary(replicaId: String) throws {
198 |         // TLA+: Check if replica exists
199 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
200 |             throw ReplicationError.replicaNotFound
201 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:223:22: warning: variable 'otherReplica' was never mutated; consider removing 'var' to make it constant
221 |         
222 |         // TLA+: Demote old primary
223 |         for (id, var otherReplica) in replicas {
    |                      `- warning: variable 'otherReplica' was never mutated; consider removing 'var' to make it constant
224 |             if id != replicaId && otherReplica.role == .primary {
225 |                 let demotedReplica = ReplicaMetadata(

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:340:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
338 |     private func sendToReplica(_ replicaId: String, _ logEntry: ReplicationLogEntry) async throws {
339 |         // TLA+: Update replica metadata
340 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
341 |             throw ReplicationError.replicaNotFound
342 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:414:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
412 |     public func repairReplica(replicaId: String) async throws {
413 |         // TLA+: Check if replica exists
414 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
415 |             throw ReplicationError.replicaNotFound
416 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:456:16: warning: variable 'replica' was never mutated; consider changing to 'let' constant
454 |     /// Update replica health
455 |     public func updateReplicaHealth(replicaId: String, isHealthy: Bool) {
456 |         if var replica = replicas[replicaId] {
    |                `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
457 |             let updatedReplica = ReplicaMetadata(
458 |                 replicaId: replica.replicaId,

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTable.swift:207:13: warning: initialization of immutable value 'page' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
205 |         
206 |         // Initialize empty page
207 |         let page = Page(pageID: newPageID)
    |             `- warning: initialization of immutable value 'page' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
208 |         freeSpaceMap[newPageID] = PAGE_SIZE - MemoryLayout<PageHeader>.size
209 |         
[74/112] Compiling ColibriCore SQLProcessor.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:199:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
197 |     public func promoteToPrimary(replicaId: String) throws {
198 |         // TLA+: Check if replica exists
199 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
200 |             throw ReplicationError.replicaNotFound
201 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:223:22: warning: variable 'otherReplica' was never mutated; consider removing 'var' to make it constant
221 |         
222 |         // TLA+: Demote old primary
223 |         for (id, var otherReplica) in replicas {
    |                      `- warning: variable 'otherReplica' was never mutated; consider removing 'var' to make it constant
224 |             if id != replicaId && otherReplica.role == .primary {
225 |                 let demotedReplica = ReplicaMetadata(

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:340:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
338 |     private func sendToReplica(_ replicaId: String, _ logEntry: ReplicationLogEntry) async throws {
339 |         // TLA+: Update replica metadata
340 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
341 |             throw ReplicationError.replicaNotFound
342 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:414:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
412 |     public func repairReplica(replicaId: String) async throws {
413 |         // TLA+: Check if replica exists
414 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
415 |             throw ReplicationError.replicaNotFound
416 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:456:16: warning: variable 'replica' was never mutated; consider changing to 'let' constant
454 |     /// Update replica health
455 |     public func updateReplicaHealth(replicaId: String, isHealthy: Bool) {
456 |         if var replica = replicas[replicaId] {
    |                `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
457 |             let updatedReplica = ReplicaMetadata(
458 |                 replicaId: replica.replicaId,

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTable.swift:207:13: warning: initialization of immutable value 'page' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
205 |         
206 |         // Initialize empty page
207 |         let page = Page(pageID: newPageID)
    |             `- warning: initialization of immutable value 'page' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
208 |         freeSpaceMap[newPageID] = PAGE_SIZE - MemoryLayout<PageHeader>.size
209 |         
[75/112] Compiling ColibriCore HeapTable.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:199:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
197 |     public func promoteToPrimary(replicaId: String) throws {
198 |         // TLA+: Check if replica exists
199 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
200 |             throw ReplicationError.replicaNotFound
201 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:223:22: warning: variable 'otherReplica' was never mutated; consider removing 'var' to make it constant
221 |         
222 |         // TLA+: Demote old primary
223 |         for (id, var otherReplica) in replicas {
    |                      `- warning: variable 'otherReplica' was never mutated; consider removing 'var' to make it constant
224 |             if id != replicaId && otherReplica.role == .primary {
225 |                 let demotedReplica = ReplicaMetadata(

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:340:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
338 |     private func sendToReplica(_ replicaId: String, _ logEntry: ReplicationLogEntry) async throws {
339 |         // TLA+: Update replica metadata
340 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
341 |             throw ReplicationError.replicaNotFound
342 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:414:19: warning: variable 'replica' was never mutated; consider changing to 'let' constant
412 |     public func repairReplica(replicaId: String) async throws {
413 |         // TLA+: Check if replica exists
414 |         guard var replica = replicas[replicaId] else {
    |                   `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
415 |             throw ReplicationError.replicaNotFound
416 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Replication/ReplicationManager.swift:456:16: warning: variable 'replica' was never mutated; consider changing to 'let' constant
454 |     /// Update replica health
455 |     public func updateReplicaHealth(replicaId: String, isHealthy: Bool) {
456 |         if var replica = replicas[replicaId] {
    |                `- warning: variable 'replica' was never mutated; consider changing to 'let' constant
457 |             let updatedReplica = ReplicaMetadata(
458 |                 replicaId: replica.replicaId,

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTable.swift:207:13: warning: initialization of immutable value 'page' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
205 |         
206 |         // Initialize empty page
207 |         let page = Page(pageID: newPageID)
    |             `- warning: initialization of immutable value 'page' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
208 |         freeSpaceMap[newPageID] = PAGE_SIZE - MemoryLayout<PageHeader>.size
209 |         
[76/112] Compiling ColibriCore HeapTableManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:97:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
 95 |         
 96 |         // TLA+: Get page
 97 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
 98 |             throw HeapTableManagerError.pageNotFound
 99 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:158:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
156 |         
157 |         // TLA+: Get page
158 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
159 |             throw HeapTableManagerError.pageNotFound
160 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:247:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
245 |         
246 |         // TLA+: Get page
247 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
248 |             throw HeapTableManagerError.pageNotFound
249 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/StorageManager.swift:186:19: warning: value 'page' was defined but never used; consider replacing with boolean test [#no-usage]
184 |     public func deallocatePage(pageId: PageID) async throws {
185 |         // TLA+: Check if page exists
186 |         guard let page = pages[pageId] else {
    |                   `- warning: value 'page' was defined but never used; consider replacing with boolean test [#no-usage]
187 |             throw StorageError.pageNotFound
188 |         }
[77/112] Compiling ColibriCore StorageManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:97:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
 95 |         
 96 |         // TLA+: Get page
 97 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
 98 |             throw HeapTableManagerError.pageNotFound
 99 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:158:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
156 |         
157 |         // TLA+: Get page
158 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
159 |             throw HeapTableManagerError.pageNotFound
160 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:247:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
245 |         
246 |         // TLA+: Get page
247 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
248 |             throw HeapTableManagerError.pageNotFound
249 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/StorageManager.swift:186:19: warning: value 'page' was defined but never used; consider replacing with boolean test [#no-usage]
184 |     public func deallocatePage(pageId: PageID) async throws {
185 |         // TLA+: Check if page exists
186 |         guard let page = pages[pageId] else {
    |                   `- warning: value 'page' was defined but never used; consider replacing with boolean test [#no-usage]
187 |             throw StorageError.pageNotFound
188 |         }
[78/112] Compiling ColibriCore TOAST.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:97:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
 95 |         
 96 |         // TLA+: Get page
 97 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
 98 |             throw HeapTableManagerError.pageNotFound
 99 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:158:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
156 |         
157 |         // TLA+: Get page
158 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
159 |             throw HeapTableManagerError.pageNotFound
160 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:247:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
245 |         
246 |         // TLA+: Get page
247 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
248 |             throw HeapTableManagerError.pageNotFound
249 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/StorageManager.swift:186:19: warning: value 'page' was defined but never used; consider replacing with boolean test [#no-usage]
184 |     public func deallocatePage(pageId: PageID) async throws {
185 |         // TLA+: Check if page exists
186 |         guard let page = pages[pageId] else {
    |                   `- warning: value 'page' was defined but never used; consider replacing with boolean test [#no-usage]
187 |             throw StorageError.pageNotFound
188 |         }
[79/112] Compiling ColibriCore VACUUM.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:97:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
 95 |         
 96 |         // TLA+: Get page
 97 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
 98 |             throw HeapTableManagerError.pageNotFound
 99 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:158:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
156 |         
157 |         // TLA+: Get page
158 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
159 |             throw HeapTableManagerError.pageNotFound
160 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:247:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
245 |         
246 |         // TLA+: Get page
247 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
248 |             throw HeapTableManagerError.pageNotFound
249 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/StorageManager.swift:186:19: warning: value 'page' was defined but never used; consider replacing with boolean test [#no-usage]
184 |     public func deallocatePage(pageId: PageID) async throws {
185 |         // TLA+: Check if page exists
186 |         guard let page = pages[pageId] else {
    |                   `- warning: value 'page' was defined but never used; consider replacing with boolean test [#no-usage]
187 |             throw StorageError.pageNotFound
188 |         }
[80/112] Compiling ColibriCore SystemManagement.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:97:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
 95 |         
 96 |         // TLA+: Get page
 97 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
 98 |             throw HeapTableManagerError.pageNotFound
 99 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:158:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
156 |         
157 |         // TLA+: Get page
158 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
159 |             throw HeapTableManagerError.pageNotFound
160 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:247:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
245 |         
246 |         // TLA+: Get page
247 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
248 |             throw HeapTableManagerError.pageNotFound
249 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/StorageManager.swift:186:19: warning: value 'page' was defined but never used; consider replacing with boolean test [#no-usage]
184 |     public func deallocatePage(pageId: PageID) async throws {
185 |         // TLA+: Check if page exists
186 |         guard let page = pages[pageId] else {
    |                   `- warning: value 'page' was defined but never used; consider replacing with boolean test [#no-usage]
187 |             throw StorageError.pageNotFound
188 |         }
[81/112] Compiling ColibriCore ChaosEngineering.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:97:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
 95 |         
 96 |         // TLA+: Get page
 97 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
 98 |             throw HeapTableManagerError.pageNotFound
 99 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:158:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
156 |         
157 |         // TLA+: Get page
158 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
159 |             throw HeapTableManagerError.pageNotFound
160 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:247:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
245 |         
246 |         // TLA+: Get page
247 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
248 |             throw HeapTableManagerError.pageNotFound
249 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/StorageManager.swift:186:19: warning: value 'page' was defined but never used; consider replacing with boolean test [#no-usage]
184 |     public func deallocatePage(pageId: PageID) async throws {
185 |         // TLA+: Check if page exists
186 |         guard let page = pages[pageId] else {
    |                   `- warning: value 'page' was defined but never used; consider replacing with boolean test [#no-usage]
187 |             throw StorageError.pageNotFound
188 |         }
[82/112] Compiling ColibriCore FaultInjection.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:97:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
 95 |         
 96 |         // TLA+: Get page
 97 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
 98 |             throw HeapTableManagerError.pageNotFound
 99 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:158:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
156 |         
157 |         // TLA+: Get page
158 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
159 |             throw HeapTableManagerError.pageNotFound
160 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/HeapTableManager.swift:247:19: warning: variable 'page' was never mutated; consider changing to 'let' constant
245 |         
246 |         // TLA+: Get page
247 |         guard var page = pages[pageID] else {
    |                   `- warning: variable 'page' was never mutated; consider changing to 'let' constant
248 |             throw HeapTableManagerError.pageNotFound
249 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Storage/StorageManager.swift:186:19: warning: value 'page' was defined but never used; consider replacing with boolean test [#no-usage]
184 |     public func deallocatePage(pageId: PageID) async throws {
185 |         // TLA+: Check if page exists
186 |         guard let page = pages[pageId] else {
    |                   `- warning: value 'page' was defined but never used; consider replacing with boolean test [#no-usage]
187 |             throw StorageError.pageNotFound
188 |         }
[83/112] Compiling ColibriCore QueryPlanner.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Query/Materialization.swift:170:19: warning: value 'view' was defined but never used; consider replacing with boolean test [#no-usage]
168 |     /// Query data from materialized view
169 |     public func queryView(viewId: String) throws -> ViewData {
170 |         guard let view = views.first(where: { $0.viewId == viewId }) else {
    |                   `- warning: value 'view' was defined but never used; consider replacing with boolean test [#no-usage]
171 |             throw MaterializationError.viewNotFound(viewId: viewId)
172 |         }
[84/112] Compiling ColibriCore MemoryManagement.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Query/Materialization.swift:170:19: warning: value 'view' was defined but never used; consider replacing with boolean test [#no-usage]
168 |     /// Query data from materialized view
169 |     public func queryView(viewId: String) throws -> ViewData {
170 |         guard let view = views.first(where: { $0.viewId == viewId }) else {
    |                   `- warning: value 'view' was defined but never used; consider replacing with boolean test [#no-usage]
171 |             throw MaterializationError.viewNotFound(viewId: viewId)
172 |         }
[85/112] Compiling ColibriCore PolicyManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Query/Materialization.swift:170:19: warning: value 'view' was defined but never used; consider replacing with boolean test [#no-usage]
168 |     /// Query data from materialized view
169 |     public func queryView(viewId: String) throws -> ViewData {
170 |         guard let view = views.first(where: { $0.viewId == viewId }) else {
    |                   `- warning: value 'view' was defined but never used; consider replacing with boolean test [#no-usage]
171 |             throw MaterializationError.viewNotFound(viewId: viewId)
172 |         }
[86/112] Compiling ColibriCore Aggregation.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Query/Materialization.swift:170:19: warning: value 'view' was defined but never used; consider replacing with boolean test [#no-usage]
168 |     /// Query data from materialized view
169 |     public func queryView(viewId: String) throws -> ViewData {
170 |         guard let view = views.first(where: { $0.viewId == viewId }) else {
    |                   `- warning: value 'view' was defined but never used; consider replacing with boolean test [#no-usage]
171 |             throw MaterializationError.viewNotFound(viewId: viewId)
172 |         }
[87/112] Compiling ColibriCore JoinAlgorithms.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Query/Materialization.swift:170:19: warning: value 'view' was defined but never used; consider replacing with boolean test [#no-usage]
168 |     /// Query data from materialized view
169 |     public func queryView(viewId: String) throws -> ViewData {
170 |         guard let view = views.first(where: { $0.viewId == viewId }) else {
    |                   `- warning: value 'view' was defined but never used; consider replacing with boolean test [#no-usage]
171 |             throw MaterializationError.viewNotFound(viewId: viewId)
172 |         }
[88/112] Compiling ColibriCore Materialization.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Query/Materialization.swift:170:19: warning: value 'view' was defined but never used; consider replacing with boolean test [#no-usage]
168 |     /// Query data from materialized view
169 |     public func queryView(viewId: String) throws -> ViewData {
170 |         guard let view = views.first(where: { $0.viewId == viewId }) else {
    |                   `- warning: value 'view' was defined but never used; consider replacing with boolean test [#no-usage]
171 |             throw MaterializationError.viewNotFound(viewId: viewId)
172 |         }
[89/112] Compiling ColibriCore PreparedStatements.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Query/Materialization.swift:170:19: warning: value 'view' was defined but never used; consider replacing with boolean test [#no-usage]
168 |     /// Query data from materialized view
169 |     public func queryView(viewId: String) throws -> ViewData {
170 |         guard let view = views.first(where: { $0.viewId == viewId }) else {
    |                   `- warning: value 'view' was defined but never used; consider replacing with boolean test [#no-usage]
171 |             throw MaterializationError.viewNotFound(viewId: viewId)
172 |         }
[90/112] Compiling ColibriCore QueryExecutor.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Query/Materialization.swift:170:19: warning: value 'view' was defined but never used; consider replacing with boolean test [#no-usage]
168 |     /// Query data from materialized view
169 |     public func queryView(viewId: String) throws -> ViewData {
170 |         guard let view = views.first(where: { $0.viewId == viewId }) else {
    |                   `- warning: value 'view' was defined but never used; consider replacing with boolean test [#no-usage]
171 |             throw MaterializationError.viewNotFound(viewId: viewId)
172 |         }
[91/112] Compiling ColibriCore BTreeIndex.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndex.swift:348:13: warning: initialization of immutable value 'child' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
346 |         }
347 |         
348 |         let child = parent.children[childIndex]
    |             `- warning: initialization of immutable value 'child' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
349 |         
350 |         // Try borrowing from left sibling

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:204:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
202 |     /// TLA+ Function: IsFull(node)
203 |     private func isNodeFull(nodeId: PageID) -> Bool {
204 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
205 |             return false
206 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:215:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
213 |     /// TLA+ Function: IsMinimum(node)
214 |     private func isNodeMinimum(nodeId: PageID) -> Bool {
215 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
216 |             return false
217 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:338:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
336 |     /// TLA+ Action: SearchNode(node, key)
337 |     private func searchNode(nodeId: PageID, key: Key) async throws -> RID? {
338 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
339 |             return nil
340 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:403:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
401 |     /// TLA+ Action: RebalanceChild(node, childIndex)
402 |     private func rebalanceChild(nodeId: PageID, childIndex: Int) async throws {
403 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
404 |             throw BTreeIndexManagerError.nodeNotFound
405 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:542:19: warning: variable 'childNode' was never mutated; consider changing to 'let' constant
540 |         
541 |         let childId = node.children[childIndex]
542 |         guard var childNode = nodes[childId] else {
    |                   `- warning: variable 'childNode' was never mutated; consider changing to 'let' constant
543 |             throw BTreeIndexManagerError.nodeNotFound
544 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:583:19: warning: variable 'rightSibling' was never mutated; consider changing to 'let' constant
581 |         
582 |         let rightSiblingId = node.children[childIndex + 1]
583 |         guard var rightSibling = nodes[rightSiblingId] else {
    |                   `- warning: variable 'rightSibling' was never mutated; consider changing to 'let' constant
584 |             throw BTreeIndexManagerError.nodeNotFound
585 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:620:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
618 |     /// TLA+ Function: FindLeafNode(node, key)
619 |     private func findLeafNode(nodeId: PageID, key: Key) async throws -> PageID {
620 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
621 |             return 0
622 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/FractalTreeIndex.swift:405:13: warning: variable 'value' was never mutated; consider changing to 'let' constant
403 |         guard rootId != 0 else { return nil }
404 |         
405 |         var value = searchHelper(nodeId: rootId, key: key)
    |             `- warning: variable 'value' was never mutated; consider changing to 'let' constant
406 |         
407 |         stats.totalSearches += 1

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/HashIndexManager.swift:159:13: warning: initialization of immutable value 'oldNumBuckets' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
157 |         // TLA+: Double the number of buckets
158 |         let oldBuckets = buckets
159 |         let oldNumBuckets = numBuckets
    |             `- warning: initialization of immutable value 'oldNumBuckets' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
160 |         
161 |         numBuckets *= 2

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:168:25: warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
166 |         let relevantIndexes = indexRegistry.filter { $0.value.tableName == tableName }
167 |         
168 |         for (indexName, definition) in relevantIndexes {
    |                         `- warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
169 |             // Insert into appropriate index type
170 |             // (Simplified - would delegate to actual index instances)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:213:20: warning: immutable value 'indexName' was never used; consider replacing with '_' or removing it [#no-usage]
211 |         }
212 |         
213 |         guard let (indexName, definition) = bestIndex else {
    |                    `- warning: immutable value 'indexName' was never used; consider replacing with '_' or removing it [#no-usage]
214 |             throw IndexSubsystemError.noSuitableIndex(table: tableName, column: column)
215 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:213:31: warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
211 |         }
212 |         
213 |         guard let (indexName, definition) = bestIndex else {
    |                               `- warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
214 |             throw IndexSubsystemError.noSuitableIndex(table: tableName, column: column)
215 |         }
[92/112] Compiling ColibriCore BTreeIndexManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndex.swift:348:13: warning: initialization of immutable value 'child' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
346 |         }
347 |         
348 |         let child = parent.children[childIndex]
    |             `- warning: initialization of immutable value 'child' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
349 |         
350 |         // Try borrowing from left sibling

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:204:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
202 |     /// TLA+ Function: IsFull(node)
203 |     private func isNodeFull(nodeId: PageID) -> Bool {
204 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
205 |             return false
206 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:215:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
213 |     /// TLA+ Function: IsMinimum(node)
214 |     private func isNodeMinimum(nodeId: PageID) -> Bool {
215 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
216 |             return false
217 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:338:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
336 |     /// TLA+ Action: SearchNode(node, key)
337 |     private func searchNode(nodeId: PageID, key: Key) async throws -> RID? {
338 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
339 |             return nil
340 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:403:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
401 |     /// TLA+ Action: RebalanceChild(node, childIndex)
402 |     private func rebalanceChild(nodeId: PageID, childIndex: Int) async throws {
403 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
404 |             throw BTreeIndexManagerError.nodeNotFound
405 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:542:19: warning: variable 'childNode' was never mutated; consider changing to 'let' constant
540 |         
541 |         let childId = node.children[childIndex]
542 |         guard var childNode = nodes[childId] else {
    |                   `- warning: variable 'childNode' was never mutated; consider changing to 'let' constant
543 |             throw BTreeIndexManagerError.nodeNotFound
544 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:583:19: warning: variable 'rightSibling' was never mutated; consider changing to 'let' constant
581 |         
582 |         let rightSiblingId = node.children[childIndex + 1]
583 |         guard var rightSibling = nodes[rightSiblingId] else {
    |                   `- warning: variable 'rightSibling' was never mutated; consider changing to 'let' constant
584 |             throw BTreeIndexManagerError.nodeNotFound
585 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:620:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
618 |     /// TLA+ Function: FindLeafNode(node, key)
619 |     private func findLeafNode(nodeId: PageID, key: Key) async throws -> PageID {
620 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
621 |             return 0
622 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/FractalTreeIndex.swift:405:13: warning: variable 'value' was never mutated; consider changing to 'let' constant
403 |         guard rootId != 0 else { return nil }
404 |         
405 |         var value = searchHelper(nodeId: rootId, key: key)
    |             `- warning: variable 'value' was never mutated; consider changing to 'let' constant
406 |         
407 |         stats.totalSearches += 1

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/HashIndexManager.swift:159:13: warning: initialization of immutable value 'oldNumBuckets' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
157 |         // TLA+: Double the number of buckets
158 |         let oldBuckets = buckets
159 |         let oldNumBuckets = numBuckets
    |             `- warning: initialization of immutable value 'oldNumBuckets' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
160 |         
161 |         numBuckets *= 2

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:168:25: warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
166 |         let relevantIndexes = indexRegistry.filter { $0.value.tableName == tableName }
167 |         
168 |         for (indexName, definition) in relevantIndexes {
    |                         `- warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
169 |             // Insert into appropriate index type
170 |             // (Simplified - would delegate to actual index instances)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:213:20: warning: immutable value 'indexName' was never used; consider replacing with '_' or removing it [#no-usage]
211 |         }
212 |         
213 |         guard let (indexName, definition) = bestIndex else {
    |                    `- warning: immutable value 'indexName' was never used; consider replacing with '_' or removing it [#no-usage]
214 |             throw IndexSubsystemError.noSuitableIndex(table: tableName, column: column)
215 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:213:31: warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
211 |         }
212 |         
213 |         guard let (indexName, definition) = bestIndex else {
    |                               `- warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
214 |             throw IndexSubsystemError.noSuitableIndex(table: tableName, column: column)
215 |         }
[93/112] Compiling ColibriCore BloomFilter.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndex.swift:348:13: warning: initialization of immutable value 'child' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
346 |         }
347 |         
348 |         let child = parent.children[childIndex]
    |             `- warning: initialization of immutable value 'child' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
349 |         
350 |         // Try borrowing from left sibling

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:204:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
202 |     /// TLA+ Function: IsFull(node)
203 |     private func isNodeFull(nodeId: PageID) -> Bool {
204 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
205 |             return false
206 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:215:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
213 |     /// TLA+ Function: IsMinimum(node)
214 |     private func isNodeMinimum(nodeId: PageID) -> Bool {
215 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
216 |             return false
217 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:338:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
336 |     /// TLA+ Action: SearchNode(node, key)
337 |     private func searchNode(nodeId: PageID, key: Key) async throws -> RID? {
338 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
339 |             return nil
340 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:403:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
401 |     /// TLA+ Action: RebalanceChild(node, childIndex)
402 |     private func rebalanceChild(nodeId: PageID, childIndex: Int) async throws {
403 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
404 |             throw BTreeIndexManagerError.nodeNotFound
405 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:542:19: warning: variable 'childNode' was never mutated; consider changing to 'let' constant
540 |         
541 |         let childId = node.children[childIndex]
542 |         guard var childNode = nodes[childId] else {
    |                   `- warning: variable 'childNode' was never mutated; consider changing to 'let' constant
543 |             throw BTreeIndexManagerError.nodeNotFound
544 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:583:19: warning: variable 'rightSibling' was never mutated; consider changing to 'let' constant
581 |         
582 |         let rightSiblingId = node.children[childIndex + 1]
583 |         guard var rightSibling = nodes[rightSiblingId] else {
    |                   `- warning: variable 'rightSibling' was never mutated; consider changing to 'let' constant
584 |             throw BTreeIndexManagerError.nodeNotFound
585 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:620:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
618 |     /// TLA+ Function: FindLeafNode(node, key)
619 |     private func findLeafNode(nodeId: PageID, key: Key) async throws -> PageID {
620 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
621 |             return 0
622 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/FractalTreeIndex.swift:405:13: warning: variable 'value' was never mutated; consider changing to 'let' constant
403 |         guard rootId != 0 else { return nil }
404 |         
405 |         var value = searchHelper(nodeId: rootId, key: key)
    |             `- warning: variable 'value' was never mutated; consider changing to 'let' constant
406 |         
407 |         stats.totalSearches += 1

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/HashIndexManager.swift:159:13: warning: initialization of immutable value 'oldNumBuckets' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
157 |         // TLA+: Double the number of buckets
158 |         let oldBuckets = buckets
159 |         let oldNumBuckets = numBuckets
    |             `- warning: initialization of immutable value 'oldNumBuckets' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
160 |         
161 |         numBuckets *= 2

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:168:25: warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
166 |         let relevantIndexes = indexRegistry.filter { $0.value.tableName == tableName }
167 |         
168 |         for (indexName, definition) in relevantIndexes {
    |                         `- warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
169 |             // Insert into appropriate index type
170 |             // (Simplified - would delegate to actual index instances)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:213:20: warning: immutable value 'indexName' was never used; consider replacing with '_' or removing it [#no-usage]
211 |         }
212 |         
213 |         guard let (indexName, definition) = bestIndex else {
    |                    `- warning: immutable value 'indexName' was never used; consider replacing with '_' or removing it [#no-usage]
214 |             throw IndexSubsystemError.noSuitableIndex(table: tableName, column: column)
215 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:213:31: warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
211 |         }
212 |         
213 |         guard let (indexName, definition) = bestIndex else {
    |                               `- warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
214 |             throw IndexSubsystemError.noSuitableIndex(table: tableName, column: column)
215 |         }
[94/112] Compiling ColibriCore FractalTreeIndex.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndex.swift:348:13: warning: initialization of immutable value 'child' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
346 |         }
347 |         
348 |         let child = parent.children[childIndex]
    |             `- warning: initialization of immutable value 'child' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
349 |         
350 |         // Try borrowing from left sibling

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:204:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
202 |     /// TLA+ Function: IsFull(node)
203 |     private func isNodeFull(nodeId: PageID) -> Bool {
204 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
205 |             return false
206 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:215:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
213 |     /// TLA+ Function: IsMinimum(node)
214 |     private func isNodeMinimum(nodeId: PageID) -> Bool {
215 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
216 |             return false
217 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:338:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
336 |     /// TLA+ Action: SearchNode(node, key)
337 |     private func searchNode(nodeId: PageID, key: Key) async throws -> RID? {
338 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
339 |             return nil
340 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:403:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
401 |     /// TLA+ Action: RebalanceChild(node, childIndex)
402 |     private func rebalanceChild(nodeId: PageID, childIndex: Int) async throws {
403 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
404 |             throw BTreeIndexManagerError.nodeNotFound
405 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:542:19: warning: variable 'childNode' was never mutated; consider changing to 'let' constant
540 |         
541 |         let childId = node.children[childIndex]
542 |         guard var childNode = nodes[childId] else {
    |                   `- warning: variable 'childNode' was never mutated; consider changing to 'let' constant
543 |             throw BTreeIndexManagerError.nodeNotFound
544 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:583:19: warning: variable 'rightSibling' was never mutated; consider changing to 'let' constant
581 |         
582 |         let rightSiblingId = node.children[childIndex + 1]
583 |         guard var rightSibling = nodes[rightSiblingId] else {
    |                   `- warning: variable 'rightSibling' was never mutated; consider changing to 'let' constant
584 |             throw BTreeIndexManagerError.nodeNotFound
585 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:620:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
618 |     /// TLA+ Function: FindLeafNode(node, key)
619 |     private func findLeafNode(nodeId: PageID, key: Key) async throws -> PageID {
620 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
621 |             return 0
622 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/FractalTreeIndex.swift:405:13: warning: variable 'value' was never mutated; consider changing to 'let' constant
403 |         guard rootId != 0 else { return nil }
404 |         
405 |         var value = searchHelper(nodeId: rootId, key: key)
    |             `- warning: variable 'value' was never mutated; consider changing to 'let' constant
406 |         
407 |         stats.totalSearches += 1

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/HashIndexManager.swift:159:13: warning: initialization of immutable value 'oldNumBuckets' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
157 |         // TLA+: Double the number of buckets
158 |         let oldBuckets = buckets
159 |         let oldNumBuckets = numBuckets
    |             `- warning: initialization of immutable value 'oldNumBuckets' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
160 |         
161 |         numBuckets *= 2

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:168:25: warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
166 |         let relevantIndexes = indexRegistry.filter { $0.value.tableName == tableName }
167 |         
168 |         for (indexName, definition) in relevantIndexes {
    |                         `- warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
169 |             // Insert into appropriate index type
170 |             // (Simplified - would delegate to actual index instances)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:213:20: warning: immutable value 'indexName' was never used; consider replacing with '_' or removing it [#no-usage]
211 |         }
212 |         
213 |         guard let (indexName, definition) = bestIndex else {
    |                    `- warning: immutable value 'indexName' was never used; consider replacing with '_' or removing it [#no-usage]
214 |             throw IndexSubsystemError.noSuitableIndex(table: tableName, column: column)
215 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:213:31: warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
211 |         }
212 |         
213 |         guard let (indexName, definition) = bestIndex else {
    |                               `- warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
214 |             throw IndexSubsystemError.noSuitableIndex(table: tableName, column: column)
215 |         }
[95/112] Compiling ColibriCore HashIndex.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndex.swift:348:13: warning: initialization of immutable value 'child' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
346 |         }
347 |         
348 |         let child = parent.children[childIndex]
    |             `- warning: initialization of immutable value 'child' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
349 |         
350 |         // Try borrowing from left sibling

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:204:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
202 |     /// TLA+ Function: IsFull(node)
203 |     private func isNodeFull(nodeId: PageID) -> Bool {
204 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
205 |             return false
206 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:215:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
213 |     /// TLA+ Function: IsMinimum(node)
214 |     private func isNodeMinimum(nodeId: PageID) -> Bool {
215 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
216 |             return false
217 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:338:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
336 |     /// TLA+ Action: SearchNode(node, key)
337 |     private func searchNode(nodeId: PageID, key: Key) async throws -> RID? {
338 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
339 |             return nil
340 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:403:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
401 |     /// TLA+ Action: RebalanceChild(node, childIndex)
402 |     private func rebalanceChild(nodeId: PageID, childIndex: Int) async throws {
403 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
404 |             throw BTreeIndexManagerError.nodeNotFound
405 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:542:19: warning: variable 'childNode' was never mutated; consider changing to 'let' constant
540 |         
541 |         let childId = node.children[childIndex]
542 |         guard var childNode = nodes[childId] else {
    |                   `- warning: variable 'childNode' was never mutated; consider changing to 'let' constant
543 |             throw BTreeIndexManagerError.nodeNotFound
544 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:583:19: warning: variable 'rightSibling' was never mutated; consider changing to 'let' constant
581 |         
582 |         let rightSiblingId = node.children[childIndex + 1]
583 |         guard var rightSibling = nodes[rightSiblingId] else {
    |                   `- warning: variable 'rightSibling' was never mutated; consider changing to 'let' constant
584 |             throw BTreeIndexManagerError.nodeNotFound
585 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:620:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
618 |     /// TLA+ Function: FindLeafNode(node, key)
619 |     private func findLeafNode(nodeId: PageID, key: Key) async throws -> PageID {
620 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
621 |             return 0
622 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/FractalTreeIndex.swift:405:13: warning: variable 'value' was never mutated; consider changing to 'let' constant
403 |         guard rootId != 0 else { return nil }
404 |         
405 |         var value = searchHelper(nodeId: rootId, key: key)
    |             `- warning: variable 'value' was never mutated; consider changing to 'let' constant
406 |         
407 |         stats.totalSearches += 1

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/HashIndexManager.swift:159:13: warning: initialization of immutable value 'oldNumBuckets' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
157 |         // TLA+: Double the number of buckets
158 |         let oldBuckets = buckets
159 |         let oldNumBuckets = numBuckets
    |             `- warning: initialization of immutable value 'oldNumBuckets' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
160 |         
161 |         numBuckets *= 2

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:168:25: warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
166 |         let relevantIndexes = indexRegistry.filter { $0.value.tableName == tableName }
167 |         
168 |         for (indexName, definition) in relevantIndexes {
    |                         `- warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
169 |             // Insert into appropriate index type
170 |             // (Simplified - would delegate to actual index instances)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:213:20: warning: immutable value 'indexName' was never used; consider replacing with '_' or removing it [#no-usage]
211 |         }
212 |         
213 |         guard let (indexName, definition) = bestIndex else {
    |                    `- warning: immutable value 'indexName' was never used; consider replacing with '_' or removing it [#no-usage]
214 |             throw IndexSubsystemError.noSuitableIndex(table: tableName, column: column)
215 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:213:31: warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
211 |         }
212 |         
213 |         guard let (indexName, definition) = bestIndex else {
    |                               `- warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
214 |             throw IndexSubsystemError.noSuitableIndex(table: tableName, column: column)
215 |         }
[96/112] Compiling ColibriCore HashIndexManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndex.swift:348:13: warning: initialization of immutable value 'child' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
346 |         }
347 |         
348 |         let child = parent.children[childIndex]
    |             `- warning: initialization of immutable value 'child' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
349 |         
350 |         // Try borrowing from left sibling

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:204:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
202 |     /// TLA+ Function: IsFull(node)
203 |     private func isNodeFull(nodeId: PageID) -> Bool {
204 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
205 |             return false
206 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:215:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
213 |     /// TLA+ Function: IsMinimum(node)
214 |     private func isNodeMinimum(nodeId: PageID) -> Bool {
215 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
216 |             return false
217 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:338:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
336 |     /// TLA+ Action: SearchNode(node, key)
337 |     private func searchNode(nodeId: PageID, key: Key) async throws -> RID? {
338 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
339 |             return nil
340 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:403:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
401 |     /// TLA+ Action: RebalanceChild(node, childIndex)
402 |     private func rebalanceChild(nodeId: PageID, childIndex: Int) async throws {
403 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
404 |             throw BTreeIndexManagerError.nodeNotFound
405 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:542:19: warning: variable 'childNode' was never mutated; consider changing to 'let' constant
540 |         
541 |         let childId = node.children[childIndex]
542 |         guard var childNode = nodes[childId] else {
    |                   `- warning: variable 'childNode' was never mutated; consider changing to 'let' constant
543 |             throw BTreeIndexManagerError.nodeNotFound
544 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:583:19: warning: variable 'rightSibling' was never mutated; consider changing to 'let' constant
581 |         
582 |         let rightSiblingId = node.children[childIndex + 1]
583 |         guard var rightSibling = nodes[rightSiblingId] else {
    |                   `- warning: variable 'rightSibling' was never mutated; consider changing to 'let' constant
584 |             throw BTreeIndexManagerError.nodeNotFound
585 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:620:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
618 |     /// TLA+ Function: FindLeafNode(node, key)
619 |     private func findLeafNode(nodeId: PageID, key: Key) async throws -> PageID {
620 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
621 |             return 0
622 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/FractalTreeIndex.swift:405:13: warning: variable 'value' was never mutated; consider changing to 'let' constant
403 |         guard rootId != 0 else { return nil }
404 |         
405 |         var value = searchHelper(nodeId: rootId, key: key)
    |             `- warning: variable 'value' was never mutated; consider changing to 'let' constant
406 |         
407 |         stats.totalSearches += 1

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/HashIndexManager.swift:159:13: warning: initialization of immutable value 'oldNumBuckets' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
157 |         // TLA+: Double the number of buckets
158 |         let oldBuckets = buckets
159 |         let oldNumBuckets = numBuckets
    |             `- warning: initialization of immutable value 'oldNumBuckets' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
160 |         
161 |         numBuckets *= 2

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:168:25: warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
166 |         let relevantIndexes = indexRegistry.filter { $0.value.tableName == tableName }
167 |         
168 |         for (indexName, definition) in relevantIndexes {
    |                         `- warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
169 |             // Insert into appropriate index type
170 |             // (Simplified - would delegate to actual index instances)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:213:20: warning: immutable value 'indexName' was never used; consider replacing with '_' or removing it [#no-usage]
211 |         }
212 |         
213 |         guard let (indexName, definition) = bestIndex else {
    |                    `- warning: immutable value 'indexName' was never used; consider replacing with '_' or removing it [#no-usage]
214 |             throw IndexSubsystemError.noSuitableIndex(table: tableName, column: column)
215 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:213:31: warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
211 |         }
212 |         
213 |         guard let (indexName, definition) = bestIndex else {
    |                               `- warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
214 |             throw IndexSubsystemError.noSuitableIndex(table: tableName, column: column)
215 |         }
[97/112] Compiling ColibriCore IndexSubsystem.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndex.swift:348:13: warning: initialization of immutable value 'child' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
346 |         }
347 |         
348 |         let child = parent.children[childIndex]
    |             `- warning: initialization of immutable value 'child' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
349 |         
350 |         // Try borrowing from left sibling

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:204:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
202 |     /// TLA+ Function: IsFull(node)
203 |     private func isNodeFull(nodeId: PageID) -> Bool {
204 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
205 |             return false
206 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:215:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
213 |     /// TLA+ Function: IsMinimum(node)
214 |     private func isNodeMinimum(nodeId: PageID) -> Bool {
215 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
216 |             return false
217 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:338:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
336 |     /// TLA+ Action: SearchNode(node, key)
337 |     private func searchNode(nodeId: PageID, key: Key) async throws -> RID? {
338 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
339 |             return nil
340 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:403:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
401 |     /// TLA+ Action: RebalanceChild(node, childIndex)
402 |     private func rebalanceChild(nodeId: PageID, childIndex: Int) async throws {
403 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
404 |             throw BTreeIndexManagerError.nodeNotFound
405 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:542:19: warning: variable 'childNode' was never mutated; consider changing to 'let' constant
540 |         
541 |         let childId = node.children[childIndex]
542 |         guard var childNode = nodes[childId] else {
    |                   `- warning: variable 'childNode' was never mutated; consider changing to 'let' constant
543 |             throw BTreeIndexManagerError.nodeNotFound
544 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:583:19: warning: variable 'rightSibling' was never mutated; consider changing to 'let' constant
581 |         
582 |         let rightSiblingId = node.children[childIndex + 1]
583 |         guard var rightSibling = nodes[rightSiblingId] else {
    |                   `- warning: variable 'rightSibling' was never mutated; consider changing to 'let' constant
584 |             throw BTreeIndexManagerError.nodeNotFound
585 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:620:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
618 |     /// TLA+ Function: FindLeafNode(node, key)
619 |     private func findLeafNode(nodeId: PageID, key: Key) async throws -> PageID {
620 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
621 |             return 0
622 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/FractalTreeIndex.swift:405:13: warning: variable 'value' was never mutated; consider changing to 'let' constant
403 |         guard rootId != 0 else { return nil }
404 |         
405 |         var value = searchHelper(nodeId: rootId, key: key)
    |             `- warning: variable 'value' was never mutated; consider changing to 'let' constant
406 |         
407 |         stats.totalSearches += 1

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/HashIndexManager.swift:159:13: warning: initialization of immutable value 'oldNumBuckets' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
157 |         // TLA+: Double the number of buckets
158 |         let oldBuckets = buckets
159 |         let oldNumBuckets = numBuckets
    |             `- warning: initialization of immutable value 'oldNumBuckets' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
160 |         
161 |         numBuckets *= 2

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:168:25: warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
166 |         let relevantIndexes = indexRegistry.filter { $0.value.tableName == tableName }
167 |         
168 |         for (indexName, definition) in relevantIndexes {
    |                         `- warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
169 |             // Insert into appropriate index type
170 |             // (Simplified - would delegate to actual index instances)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:213:20: warning: immutable value 'indexName' was never used; consider replacing with '_' or removing it [#no-usage]
211 |         }
212 |         
213 |         guard let (indexName, definition) = bestIndex else {
    |                    `- warning: immutable value 'indexName' was never used; consider replacing with '_' or removing it [#no-usage]
214 |             throw IndexSubsystemError.noSuitableIndex(table: tableName, column: column)
215 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:213:31: warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
211 |         }
212 |         
213 |         guard let (indexName, definition) = bestIndex else {
    |                               `- warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
214 |             throw IndexSubsystemError.noSuitableIndex(table: tableName, column: column)
215 |         }
[98/112] Compiling ColibriCore Monitor.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndex.swift:348:13: warning: initialization of immutable value 'child' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
346 |         }
347 |         
348 |         let child = parent.children[childIndex]
    |             `- warning: initialization of immutable value 'child' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
349 |         
350 |         // Try borrowing from left sibling

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:204:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
202 |     /// TLA+ Function: IsFull(node)
203 |     private func isNodeFull(nodeId: PageID) -> Bool {
204 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
205 |             return false
206 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:215:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
213 |     /// TLA+ Function: IsMinimum(node)
214 |     private func isNodeMinimum(nodeId: PageID) -> Bool {
215 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
216 |             return false
217 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:338:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
336 |     /// TLA+ Action: SearchNode(node, key)
337 |     private func searchNode(nodeId: PageID, key: Key) async throws -> RID? {
338 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
339 |             return nil
340 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:403:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
401 |     /// TLA+ Action: RebalanceChild(node, childIndex)
402 |     private func rebalanceChild(nodeId: PageID, childIndex: Int) async throws {
403 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
404 |             throw BTreeIndexManagerError.nodeNotFound
405 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:542:19: warning: variable 'childNode' was never mutated; consider changing to 'let' constant
540 |         
541 |         let childId = node.children[childIndex]
542 |         guard var childNode = nodes[childId] else {
    |                   `- warning: variable 'childNode' was never mutated; consider changing to 'let' constant
543 |             throw BTreeIndexManagerError.nodeNotFound
544 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:583:19: warning: variable 'rightSibling' was never mutated; consider changing to 'let' constant
581 |         
582 |         let rightSiblingId = node.children[childIndex + 1]
583 |         guard var rightSibling = nodes[rightSiblingId] else {
    |                   `- warning: variable 'rightSibling' was never mutated; consider changing to 'let' constant
584 |             throw BTreeIndexManagerError.nodeNotFound
585 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/BTreeIndexManager.swift:620:19: warning: variable 'node' was never mutated; consider changing to 'let' constant
618 |     /// TLA+ Function: FindLeafNode(node, key)
619 |     private func findLeafNode(nodeId: PageID, key: Key) async throws -> PageID {
620 |         guard var node = nodes[nodeId] else {
    |                   `- warning: variable 'node' was never mutated; consider changing to 'let' constant
621 |             return 0
622 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/FractalTreeIndex.swift:405:13: warning: variable 'value' was never mutated; consider changing to 'let' constant
403 |         guard rootId != 0 else { return nil }
404 |         
405 |         var value = searchHelper(nodeId: rootId, key: key)
    |             `- warning: variable 'value' was never mutated; consider changing to 'let' constant
406 |         
407 |         stats.totalSearches += 1

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/HashIndexManager.swift:159:13: warning: initialization of immutable value 'oldNumBuckets' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
157 |         // TLA+: Double the number of buckets
158 |         let oldBuckets = buckets
159 |         let oldNumBuckets = numBuckets
    |             `- warning: initialization of immutable value 'oldNumBuckets' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
160 |         
161 |         numBuckets *= 2

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:168:25: warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
166 |         let relevantIndexes = indexRegistry.filter { $0.value.tableName == tableName }
167 |         
168 |         for (indexName, definition) in relevantIndexes {
    |                         `- warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
169 |             // Insert into appropriate index type
170 |             // (Simplified - would delegate to actual index instances)

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:213:20: warning: immutable value 'indexName' was never used; consider replacing with '_' or removing it [#no-usage]
211 |         }
212 |         
213 |         guard let (indexName, definition) = bestIndex else {
    |                    `- warning: immutable value 'indexName' was never used; consider replacing with '_' or removing it [#no-usage]
214 |             throw IndexSubsystemError.noSuitableIndex(table: tableName, column: column)
215 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Indexes/IndexSubsystem.swift:213:31: warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
211 |         }
212 |         
213 |         guard let (indexName, definition) = bestIndex else {
    |                               `- warning: immutable value 'definition' was never used; consider replacing with '_' or removing it [#no-usage]
214 |             throw IndexSubsystemError.noSuitableIndex(table: tableName, column: column)
215 |         }
[99/112] Compiling ColibriCore AuthenticationManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:142:18: warning: no 'async' operations occur within 'await' expression
140 |         // Create default admin user
141 |         Task {
142 |             try? await createUser(username: "admin", email: "admin@colibridb.com", password: "admin123", role: .admin)
    |                  `- warning: no 'async' operations occur within 'await' expression
143 |         }
144 |     }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:179:19: warning: variable 'user' was never mutated; consider changing to 'let' constant
177 |     public func updateUserRole(username: String, newRole: UserRole) throws {
178 |         // TLA+: Check if user exists
179 |         guard var user = users[username] else {
    |                   `- warning: variable 'user' was never mutated; consider changing to 'let' constant
180 |             throw AuthenticationError.userNotFound
181 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:328:19: warning: variable 'session' was never mutated; consider changing to 'let' constant
326 |     public func extendSession(sessionId: String) throws {
327 |         // TLA+: Check if session exists
328 |         guard var session = sessions[sessionId] else {
    |                   `- warning: variable 'session' was never mutated; consider changing to 'let' constant
329 |             throw AuthenticationError.invalidSession
330 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:226:18: warning: no calls to throwing functions occur within 'try' expression
224 |             pointId: backupId,
225 |             timestamp: timestamp,
226 |             lsn: try await wal.getCurrentLSN(),
    |                  `- warning: no calls to throwing functions occur within 'try' expression
227 |             description: "Point-in-time backup"
228 |         )

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:258:28: warning: no calls to throwing functions occur within 'try' expression
256 |         do {
257 |             // TLA+: Get current LSN
258 |             let startLSN = try await wal.getCurrentLSN()
    |                            `- warning: no calls to throwing functions occur within 'try' expression
259 |             
260 |             // TLA+: Backup all tables

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:273:26: warning: no calls to throwing functions occur within 'try' expression
271 |             
272 |             // TLA+: Get end LSN
273 |             let endLSN = try await wal.getCurrentLSN()
    |                          `- warning: no calls to throwing functions occur within 'try' expression
274 |             
275 |             // TLA+: Update backup metadata

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:324:26: warning: no calls to throwing functions occur within 'try' expression
322 |             
323 |             // TLA+: Get end LSN
324 |             let endLSN = try await wal.getCurrentLSN()
    |                          `- warning: no calls to throwing functions occur within 'try' expression
325 |             
326 |             // TLA+: Update backup metadata

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:510:16: warning: variable 'backup' was never mutated; consider changing to 'let' constant
508 |     /// Update backup status
509 |     private func updateBackupStatus(backupId: String, status: BackupStatus) {
510 |         if var backup = backups[backupId] {
    |                `- warning: variable 'backup' was never mutated; consider changing to 'let' constant
511 |             let updatedBackup = BackupMetadata(
512 |                 backupId: backup.backupId,

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/BufferPool/BufferPool.swift:360:22: warning: immutable value 'page' was never used; consider replacing with '_' or removing it [#no-usage]
358 |     public func checkCacheConsistencyInvariant() -> Bool {
359 |         // Clean pages in cache must match disk
360 |         for (pageID, page) in cache {
    |                      `- warning: immutable value 'page' was never used; consider replacing with '_' or removing it [#no-usage]
361 |             if !dirty.contains(pageID) {
362 |                 // This would require reading from disk to verify

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Catalog/Catalog.swift:131:19: warning: variable 'table' was never mutated; consider changing to 'let' constant
129 |     /// Add index to table
130 |     public func addIndex(tableName: String, index: CatalogIndexDefinition) throws {
131 |         guard var table = tables[tableName] else {
    |                   `- warning: variable 'table' was never mutated; consider changing to 'let' constant
132 |             throw DBError.notFound
133 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Catalog/CatalogManager.swift:245:19: warning: variable 'tableMetadata' was never mutated; consider changing to 'let' constant
243 |     public func alterTableAddColumn(tableName: String, column: ColumnMetadata) throws {
244 |         // TLA+: Check if table exists
245 |         guard var tableMetadata = tables[tableName] else {
    |                   `- warning: variable 'tableMetadata' was never mutated; consider changing to 'let' constant
246 |             throw DBError.tableNotFound
247 |         }
[100/112] Compiling ColibriCore BackupManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:142:18: warning: no 'async' operations occur within 'await' expression
140 |         // Create default admin user
141 |         Task {
142 |             try? await createUser(username: "admin", email: "admin@colibridb.com", password: "admin123", role: .admin)
    |                  `- warning: no 'async' operations occur within 'await' expression
143 |         }
144 |     }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:179:19: warning: variable 'user' was never mutated; consider changing to 'let' constant
177 |     public func updateUserRole(username: String, newRole: UserRole) throws {
178 |         // TLA+: Check if user exists
179 |         guard var user = users[username] else {
    |                   `- warning: variable 'user' was never mutated; consider changing to 'let' constant
180 |             throw AuthenticationError.userNotFound
181 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:328:19: warning: variable 'session' was never mutated; consider changing to 'let' constant
326 |     public func extendSession(sessionId: String) throws {
327 |         // TLA+: Check if session exists
328 |         guard var session = sessions[sessionId] else {
    |                   `- warning: variable 'session' was never mutated; consider changing to 'let' constant
329 |             throw AuthenticationError.invalidSession
330 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:226:18: warning: no calls to throwing functions occur within 'try' expression
224 |             pointId: backupId,
225 |             timestamp: timestamp,
226 |             lsn: try await wal.getCurrentLSN(),
    |                  `- warning: no calls to throwing functions occur within 'try' expression
227 |             description: "Point-in-time backup"
228 |         )

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:258:28: warning: no calls to throwing functions occur within 'try' expression
256 |         do {
257 |             // TLA+: Get current LSN
258 |             let startLSN = try await wal.getCurrentLSN()
    |                            `- warning: no calls to throwing functions occur within 'try' expression
259 |             
260 |             // TLA+: Backup all tables

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:273:26: warning: no calls to throwing functions occur within 'try' expression
271 |             
272 |             // TLA+: Get end LSN
273 |             let endLSN = try await wal.getCurrentLSN()
    |                          `- warning: no calls to throwing functions occur within 'try' expression
274 |             
275 |             // TLA+: Update backup metadata

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:324:26: warning: no calls to throwing functions occur within 'try' expression
322 |             
323 |             // TLA+: Get end LSN
324 |             let endLSN = try await wal.getCurrentLSN()
    |                          `- warning: no calls to throwing functions occur within 'try' expression
325 |             
326 |             // TLA+: Update backup metadata

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:510:16: warning: variable 'backup' was never mutated; consider changing to 'let' constant
508 |     /// Update backup status
509 |     private func updateBackupStatus(backupId: String, status: BackupStatus) {
510 |         if var backup = backups[backupId] {
    |                `- warning: variable 'backup' was never mutated; consider changing to 'let' constant
511 |             let updatedBackup = BackupMetadata(
512 |                 backupId: backup.backupId,

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/BufferPool/BufferPool.swift:360:22: warning: immutable value 'page' was never used; consider replacing with '_' or removing it [#no-usage]
358 |     public func checkCacheConsistencyInvariant() -> Bool {
359 |         // Clean pages in cache must match disk
360 |         for (pageID, page) in cache {
    |                      `- warning: immutable value 'page' was never used; consider replacing with '_' or removing it [#no-usage]
361 |             if !dirty.contains(pageID) {
362 |                 // This would require reading from disk to verify

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Catalog/Catalog.swift:131:19: warning: variable 'table' was never mutated; consider changing to 'let' constant
129 |     /// Add index to table
130 |     public func addIndex(tableName: String, index: CatalogIndexDefinition) throws {
131 |         guard var table = tables[tableName] else {
    |                   `- warning: variable 'table' was never mutated; consider changing to 'let' constant
132 |             throw DBError.notFound
133 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Catalog/CatalogManager.swift:245:19: warning: variable 'tableMetadata' was never mutated; consider changing to 'let' constant
243 |     public func alterTableAddColumn(tableName: String, column: ColumnMetadata) throws {
244 |         // TLA+: Check if table exists
245 |         guard var tableMetadata = tables[tableName] else {
    |                   `- warning: variable 'tableMetadata' was never mutated; consider changing to 'let' constant
246 |             throw DBError.tableNotFound
247 |         }
[101/112] Compiling ColibriCore BufferManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:142:18: warning: no 'async' operations occur within 'await' expression
140 |         // Create default admin user
141 |         Task {
142 |             try? await createUser(username: "admin", email: "admin@colibridb.com", password: "admin123", role: .admin)
    |                  `- warning: no 'async' operations occur within 'await' expression
143 |         }
144 |     }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:179:19: warning: variable 'user' was never mutated; consider changing to 'let' constant
177 |     public func updateUserRole(username: String, newRole: UserRole) throws {
178 |         // TLA+: Check if user exists
179 |         guard var user = users[username] else {
    |                   `- warning: variable 'user' was never mutated; consider changing to 'let' constant
180 |             throw AuthenticationError.userNotFound
181 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:328:19: warning: variable 'session' was never mutated; consider changing to 'let' constant
326 |     public func extendSession(sessionId: String) throws {
327 |         // TLA+: Check if session exists
328 |         guard var session = sessions[sessionId] else {
    |                   `- warning: variable 'session' was never mutated; consider changing to 'let' constant
329 |             throw AuthenticationError.invalidSession
330 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:226:18: warning: no calls to throwing functions occur within 'try' expression
224 |             pointId: backupId,
225 |             timestamp: timestamp,
226 |             lsn: try await wal.getCurrentLSN(),
    |                  `- warning: no calls to throwing functions occur within 'try' expression
227 |             description: "Point-in-time backup"
228 |         )

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:258:28: warning: no calls to throwing functions occur within 'try' expression
256 |         do {
257 |             // TLA+: Get current LSN
258 |             let startLSN = try await wal.getCurrentLSN()
    |                            `- warning: no calls to throwing functions occur within 'try' expression
259 |             
260 |             // TLA+: Backup all tables

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:273:26: warning: no calls to throwing functions occur within 'try' expression
271 |             
272 |             // TLA+: Get end LSN
273 |             let endLSN = try await wal.getCurrentLSN()
    |                          `- warning: no calls to throwing functions occur within 'try' expression
274 |             
275 |             // TLA+: Update backup metadata

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:324:26: warning: no calls to throwing functions occur within 'try' expression
322 |             
323 |             // TLA+: Get end LSN
324 |             let endLSN = try await wal.getCurrentLSN()
    |                          `- warning: no calls to throwing functions occur within 'try' expression
325 |             
326 |             // TLA+: Update backup metadata

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:510:16: warning: variable 'backup' was never mutated; consider changing to 'let' constant
508 |     /// Update backup status
509 |     private func updateBackupStatus(backupId: String, status: BackupStatus) {
510 |         if var backup = backups[backupId] {
    |                `- warning: variable 'backup' was never mutated; consider changing to 'let' constant
511 |             let updatedBackup = BackupMetadata(
512 |                 backupId: backup.backupId,

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/BufferPool/BufferPool.swift:360:22: warning: immutable value 'page' was never used; consider replacing with '_' or removing it [#no-usage]
358 |     public func checkCacheConsistencyInvariant() -> Bool {
359 |         // Clean pages in cache must match disk
360 |         for (pageID, page) in cache {
    |                      `- warning: immutable value 'page' was never used; consider replacing with '_' or removing it [#no-usage]
361 |             if !dirty.contains(pageID) {
362 |                 // This would require reading from disk to verify

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Catalog/Catalog.swift:131:19: warning: variable 'table' was never mutated; consider changing to 'let' constant
129 |     /// Add index to table
130 |     public func addIndex(tableName: String, index: CatalogIndexDefinition) throws {
131 |         guard var table = tables[tableName] else {
    |                   `- warning: variable 'table' was never mutated; consider changing to 'let' constant
132 |             throw DBError.notFound
133 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Catalog/CatalogManager.swift:245:19: warning: variable 'tableMetadata' was never mutated; consider changing to 'let' constant
243 |     public func alterTableAddColumn(tableName: String, column: ColumnMetadata) throws {
244 |         // TLA+: Check if table exists
245 |         guard var tableMetadata = tables[tableName] else {
    |                   `- warning: variable 'tableMetadata' was never mutated; consider changing to 'let' constant
246 |             throw DBError.tableNotFound
247 |         }
[102/112] Compiling ColibriCore BufferPool.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:142:18: warning: no 'async' operations occur within 'await' expression
140 |         // Create default admin user
141 |         Task {
142 |             try? await createUser(username: "admin", email: "admin@colibridb.com", password: "admin123", role: .admin)
    |                  `- warning: no 'async' operations occur within 'await' expression
143 |         }
144 |     }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:179:19: warning: variable 'user' was never mutated; consider changing to 'let' constant
177 |     public func updateUserRole(username: String, newRole: UserRole) throws {
178 |         // TLA+: Check if user exists
179 |         guard var user = users[username] else {
    |                   `- warning: variable 'user' was never mutated; consider changing to 'let' constant
180 |             throw AuthenticationError.userNotFound
181 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:328:19: warning: variable 'session' was never mutated; consider changing to 'let' constant
326 |     public func extendSession(sessionId: String) throws {
327 |         // TLA+: Check if session exists
328 |         guard var session = sessions[sessionId] else {
    |                   `- warning: variable 'session' was never mutated; consider changing to 'let' constant
329 |             throw AuthenticationError.invalidSession
330 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:226:18: warning: no calls to throwing functions occur within 'try' expression
224 |             pointId: backupId,
225 |             timestamp: timestamp,
226 |             lsn: try await wal.getCurrentLSN(),
    |                  `- warning: no calls to throwing functions occur within 'try' expression
227 |             description: "Point-in-time backup"
228 |         )

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:258:28: warning: no calls to throwing functions occur within 'try' expression
256 |         do {
257 |             // TLA+: Get current LSN
258 |             let startLSN = try await wal.getCurrentLSN()
    |                            `- warning: no calls to throwing functions occur within 'try' expression
259 |             
260 |             // TLA+: Backup all tables

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:273:26: warning: no calls to throwing functions occur within 'try' expression
271 |             
272 |             // TLA+: Get end LSN
273 |             let endLSN = try await wal.getCurrentLSN()
    |                          `- warning: no calls to throwing functions occur within 'try' expression
274 |             
275 |             // TLA+: Update backup metadata

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:324:26: warning: no calls to throwing functions occur within 'try' expression
322 |             
323 |             // TLA+: Get end LSN
324 |             let endLSN = try await wal.getCurrentLSN()
    |                          `- warning: no calls to throwing functions occur within 'try' expression
325 |             
326 |             // TLA+: Update backup metadata

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:510:16: warning: variable 'backup' was never mutated; consider changing to 'let' constant
508 |     /// Update backup status
509 |     private func updateBackupStatus(backupId: String, status: BackupStatus) {
510 |         if var backup = backups[backupId] {
    |                `- warning: variable 'backup' was never mutated; consider changing to 'let' constant
511 |             let updatedBackup = BackupMetadata(
512 |                 backupId: backup.backupId,

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/BufferPool/BufferPool.swift:360:22: warning: immutable value 'page' was never used; consider replacing with '_' or removing it [#no-usage]
358 |     public func checkCacheConsistencyInvariant() -> Bool {
359 |         // Clean pages in cache must match disk
360 |         for (pageID, page) in cache {
    |                      `- warning: immutable value 'page' was never used; consider replacing with '_' or removing it [#no-usage]
361 |             if !dirty.contains(pageID) {
362 |                 // This would require reading from disk to verify

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Catalog/Catalog.swift:131:19: warning: variable 'table' was never mutated; consider changing to 'let' constant
129 |     /// Add index to table
130 |     public func addIndex(tableName: String, index: CatalogIndexDefinition) throws {
131 |         guard var table = tables[tableName] else {
    |                   `- warning: variable 'table' was never mutated; consider changing to 'let' constant
132 |             throw DBError.notFound
133 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Catalog/CatalogManager.swift:245:19: warning: variable 'tableMetadata' was never mutated; consider changing to 'let' constant
243 |     public func alterTableAddColumn(tableName: String, column: ColumnMetadata) throws {
244 |         // TLA+: Check if table exists
245 |         guard var tableMetadata = tables[tableName] else {
    |                   `- warning: variable 'tableMetadata' was never mutated; consider changing to 'let' constant
246 |             throw DBError.tableNotFound
247 |         }
[103/112] Compiling ColibriCore BufferPoolManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:142:18: warning: no 'async' operations occur within 'await' expression
140 |         // Create default admin user
141 |         Task {
142 |             try? await createUser(username: "admin", email: "admin@colibridb.com", password: "admin123", role: .admin)
    |                  `- warning: no 'async' operations occur within 'await' expression
143 |         }
144 |     }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:179:19: warning: variable 'user' was never mutated; consider changing to 'let' constant
177 |     public func updateUserRole(username: String, newRole: UserRole) throws {
178 |         // TLA+: Check if user exists
179 |         guard var user = users[username] else {
    |                   `- warning: variable 'user' was never mutated; consider changing to 'let' constant
180 |             throw AuthenticationError.userNotFound
181 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:328:19: warning: variable 'session' was never mutated; consider changing to 'let' constant
326 |     public func extendSession(sessionId: String) throws {
327 |         // TLA+: Check if session exists
328 |         guard var session = sessions[sessionId] else {
    |                   `- warning: variable 'session' was never mutated; consider changing to 'let' constant
329 |             throw AuthenticationError.invalidSession
330 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:226:18: warning: no calls to throwing functions occur within 'try' expression
224 |             pointId: backupId,
225 |             timestamp: timestamp,
226 |             lsn: try await wal.getCurrentLSN(),
    |                  `- warning: no calls to throwing functions occur within 'try' expression
227 |             description: "Point-in-time backup"
228 |         )

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:258:28: warning: no calls to throwing functions occur within 'try' expression
256 |         do {
257 |             // TLA+: Get current LSN
258 |             let startLSN = try await wal.getCurrentLSN()
    |                            `- warning: no calls to throwing functions occur within 'try' expression
259 |             
260 |             // TLA+: Backup all tables

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:273:26: warning: no calls to throwing functions occur within 'try' expression
271 |             
272 |             // TLA+: Get end LSN
273 |             let endLSN = try await wal.getCurrentLSN()
    |                          `- warning: no calls to throwing functions occur within 'try' expression
274 |             
275 |             // TLA+: Update backup metadata

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:324:26: warning: no calls to throwing functions occur within 'try' expression
322 |             
323 |             // TLA+: Get end LSN
324 |             let endLSN = try await wal.getCurrentLSN()
    |                          `- warning: no calls to throwing functions occur within 'try' expression
325 |             
326 |             // TLA+: Update backup metadata

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:510:16: warning: variable 'backup' was never mutated; consider changing to 'let' constant
508 |     /// Update backup status
509 |     private func updateBackupStatus(backupId: String, status: BackupStatus) {
510 |         if var backup = backups[backupId] {
    |                `- warning: variable 'backup' was never mutated; consider changing to 'let' constant
511 |             let updatedBackup = BackupMetadata(
512 |                 backupId: backup.backupId,

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/BufferPool/BufferPool.swift:360:22: warning: immutable value 'page' was never used; consider replacing with '_' or removing it [#no-usage]
358 |     public func checkCacheConsistencyInvariant() -> Bool {
359 |         // Clean pages in cache must match disk
360 |         for (pageID, page) in cache {
    |                      `- warning: immutable value 'page' was never used; consider replacing with '_' or removing it [#no-usage]
361 |             if !dirty.contains(pageID) {
362 |                 // This would require reading from disk to verify

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Catalog/Catalog.swift:131:19: warning: variable 'table' was never mutated; consider changing to 'let' constant
129 |     /// Add index to table
130 |     public func addIndex(tableName: String, index: CatalogIndexDefinition) throws {
131 |         guard var table = tables[tableName] else {
    |                   `- warning: variable 'table' was never mutated; consider changing to 'let' constant
132 |             throw DBError.notFound
133 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Catalog/CatalogManager.swift:245:19: warning: variable 'tableMetadata' was never mutated; consider changing to 'let' constant
243 |     public func alterTableAddColumn(tableName: String, column: ColumnMetadata) throws {
244 |         // TLA+: Check if table exists
245 |         guard var tableMetadata = tables[tableName] else {
    |                   `- warning: variable 'tableMetadata' was never mutated; consider changing to 'let' constant
246 |             throw DBError.tableNotFound
247 |         }
[104/112] Compiling ColibriCore Catalog.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:142:18: warning: no 'async' operations occur within 'await' expression
140 |         // Create default admin user
141 |         Task {
142 |             try? await createUser(username: "admin", email: "admin@colibridb.com", password: "admin123", role: .admin)
    |                  `- warning: no 'async' operations occur within 'await' expression
143 |         }
144 |     }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:179:19: warning: variable 'user' was never mutated; consider changing to 'let' constant
177 |     public func updateUserRole(username: String, newRole: UserRole) throws {
178 |         // TLA+: Check if user exists
179 |         guard var user = users[username] else {
    |                   `- warning: variable 'user' was never mutated; consider changing to 'let' constant
180 |             throw AuthenticationError.userNotFound
181 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:328:19: warning: variable 'session' was never mutated; consider changing to 'let' constant
326 |     public func extendSession(sessionId: String) throws {
327 |         // TLA+: Check if session exists
328 |         guard var session = sessions[sessionId] else {
    |                   `- warning: variable 'session' was never mutated; consider changing to 'let' constant
329 |             throw AuthenticationError.invalidSession
330 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:226:18: warning: no calls to throwing functions occur within 'try' expression
224 |             pointId: backupId,
225 |             timestamp: timestamp,
226 |             lsn: try await wal.getCurrentLSN(),
    |                  `- warning: no calls to throwing functions occur within 'try' expression
227 |             description: "Point-in-time backup"
228 |         )

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:258:28: warning: no calls to throwing functions occur within 'try' expression
256 |         do {
257 |             // TLA+: Get current LSN
258 |             let startLSN = try await wal.getCurrentLSN()
    |                            `- warning: no calls to throwing functions occur within 'try' expression
259 |             
260 |             // TLA+: Backup all tables

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:273:26: warning: no calls to throwing functions occur within 'try' expression
271 |             
272 |             // TLA+: Get end LSN
273 |             let endLSN = try await wal.getCurrentLSN()
    |                          `- warning: no calls to throwing functions occur within 'try' expression
274 |             
275 |             // TLA+: Update backup metadata

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:324:26: warning: no calls to throwing functions occur within 'try' expression
322 |             
323 |             // TLA+: Get end LSN
324 |             let endLSN = try await wal.getCurrentLSN()
    |                          `- warning: no calls to throwing functions occur within 'try' expression
325 |             
326 |             // TLA+: Update backup metadata

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:510:16: warning: variable 'backup' was never mutated; consider changing to 'let' constant
508 |     /// Update backup status
509 |     private func updateBackupStatus(backupId: String, status: BackupStatus) {
510 |         if var backup = backups[backupId] {
    |                `- warning: variable 'backup' was never mutated; consider changing to 'let' constant
511 |             let updatedBackup = BackupMetadata(
512 |                 backupId: backup.backupId,

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/BufferPool/BufferPool.swift:360:22: warning: immutable value 'page' was never used; consider replacing with '_' or removing it [#no-usage]
358 |     public func checkCacheConsistencyInvariant() -> Bool {
359 |         // Clean pages in cache must match disk
360 |         for (pageID, page) in cache {
    |                      `- warning: immutable value 'page' was never used; consider replacing with '_' or removing it [#no-usage]
361 |             if !dirty.contains(pageID) {
362 |                 // This would require reading from disk to verify

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Catalog/Catalog.swift:131:19: warning: variable 'table' was never mutated; consider changing to 'let' constant
129 |     /// Add index to table
130 |     public func addIndex(tableName: String, index: CatalogIndexDefinition) throws {
131 |         guard var table = tables[tableName] else {
    |                   `- warning: variable 'table' was never mutated; consider changing to 'let' constant
132 |             throw DBError.notFound
133 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Catalog/CatalogManager.swift:245:19: warning: variable 'tableMetadata' was never mutated; consider changing to 'let' constant
243 |     public func alterTableAddColumn(tableName: String, column: ColumnMetadata) throws {
244 |         // TLA+: Check if table exists
245 |         guard var tableMetadata = tables[tableName] else {
    |                   `- warning: variable 'tableMetadata' was never mutated; consider changing to 'let' constant
246 |             throw DBError.tableNotFound
247 |         }
[105/112] Compiling ColibriCore CatalogManager.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:142:18: warning: no 'async' operations occur within 'await' expression
140 |         // Create default admin user
141 |         Task {
142 |             try? await createUser(username: "admin", email: "admin@colibridb.com", password: "admin123", role: .admin)
    |                  `- warning: no 'async' operations occur within 'await' expression
143 |         }
144 |     }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:179:19: warning: variable 'user' was never mutated; consider changing to 'let' constant
177 |     public func updateUserRole(username: String, newRole: UserRole) throws {
178 |         // TLA+: Check if user exists
179 |         guard var user = users[username] else {
    |                   `- warning: variable 'user' was never mutated; consider changing to 'let' constant
180 |             throw AuthenticationError.userNotFound
181 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:328:19: warning: variable 'session' was never mutated; consider changing to 'let' constant
326 |     public func extendSession(sessionId: String) throws {
327 |         // TLA+: Check if session exists
328 |         guard var session = sessions[sessionId] else {
    |                   `- warning: variable 'session' was never mutated; consider changing to 'let' constant
329 |             throw AuthenticationError.invalidSession
330 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:226:18: warning: no calls to throwing functions occur within 'try' expression
224 |             pointId: backupId,
225 |             timestamp: timestamp,
226 |             lsn: try await wal.getCurrentLSN(),
    |                  `- warning: no calls to throwing functions occur within 'try' expression
227 |             description: "Point-in-time backup"
228 |         )

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:258:28: warning: no calls to throwing functions occur within 'try' expression
256 |         do {
257 |             // TLA+: Get current LSN
258 |             let startLSN = try await wal.getCurrentLSN()
    |                            `- warning: no calls to throwing functions occur within 'try' expression
259 |             
260 |             // TLA+: Backup all tables

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:273:26: warning: no calls to throwing functions occur within 'try' expression
271 |             
272 |             // TLA+: Get end LSN
273 |             let endLSN = try await wal.getCurrentLSN()
    |                          `- warning: no calls to throwing functions occur within 'try' expression
274 |             
275 |             // TLA+: Update backup metadata

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:324:26: warning: no calls to throwing functions occur within 'try' expression
322 |             
323 |             // TLA+: Get end LSN
324 |             let endLSN = try await wal.getCurrentLSN()
    |                          `- warning: no calls to throwing functions occur within 'try' expression
325 |             
326 |             // TLA+: Update backup metadata

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:510:16: warning: variable 'backup' was never mutated; consider changing to 'let' constant
508 |     /// Update backup status
509 |     private func updateBackupStatus(backupId: String, status: BackupStatus) {
510 |         if var backup = backups[backupId] {
    |                `- warning: variable 'backup' was never mutated; consider changing to 'let' constant
511 |             let updatedBackup = BackupMetadata(
512 |                 backupId: backup.backupId,

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/BufferPool/BufferPool.swift:360:22: warning: immutable value 'page' was never used; consider replacing with '_' or removing it [#no-usage]
358 |     public func checkCacheConsistencyInvariant() -> Bool {
359 |         // Clean pages in cache must match disk
360 |         for (pageID, page) in cache {
    |                      `- warning: immutable value 'page' was never used; consider replacing with '_' or removing it [#no-usage]
361 |             if !dirty.contains(pageID) {
362 |                 // This would require reading from disk to verify

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Catalog/Catalog.swift:131:19: warning: variable 'table' was never mutated; consider changing to 'let' constant
129 |     /// Add index to table
130 |     public func addIndex(tableName: String, index: CatalogIndexDefinition) throws {
131 |         guard var table = tables[tableName] else {
    |                   `- warning: variable 'table' was never mutated; consider changing to 'let' constant
132 |             throw DBError.notFound
133 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Catalog/CatalogManager.swift:245:19: warning: variable 'tableMetadata' was never mutated; consider changing to 'let' constant
243 |     public func alterTableAddColumn(tableName: String, column: ColumnMetadata) throws {
244 |         // TLA+: Check if table exists
245 |         guard var tableMetadata = tables[tableName] else {
    |                   `- warning: variable 'tableMetadata' was never mutated; consider changing to 'let' constant
246 |             throw DBError.tableNotFound
247 |         }
[106/112] Compiling ColibriCore SchemaEvolution.swift
/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:142:18: warning: no 'async' operations occur within 'await' expression
140 |         // Create default admin user
141 |         Task {
142 |             try? await createUser(username: "admin", email: "admin@colibridb.com", password: "admin123", role: .admin)
    |                  `- warning: no 'async' operations occur within 'await' expression
143 |         }
144 |     }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:179:19: warning: variable 'user' was never mutated; consider changing to 'let' constant
177 |     public func updateUserRole(username: String, newRole: UserRole) throws {
178 |         // TLA+: Check if user exists
179 |         guard var user = users[username] else {
    |                   `- warning: variable 'user' was never mutated; consider changing to 'let' constant
180 |             throw AuthenticationError.userNotFound
181 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Authentication/AuthenticationManager.swift:328:19: warning: variable 'session' was never mutated; consider changing to 'let' constant
326 |     public func extendSession(sessionId: String) throws {
327 |         // TLA+: Check if session exists
328 |         guard var session = sessions[sessionId] else {
    |                   `- warning: variable 'session' was never mutated; consider changing to 'let' constant
329 |             throw AuthenticationError.invalidSession
330 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:226:18: warning: no calls to throwing functions occur within 'try' expression
224 |             pointId: backupId,
225 |             timestamp: timestamp,
226 |             lsn: try await wal.getCurrentLSN(),
    |                  `- warning: no calls to throwing functions occur within 'try' expression
227 |             description: "Point-in-time backup"
228 |         )

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:258:28: warning: no calls to throwing functions occur within 'try' expression
256 |         do {
257 |             // TLA+: Get current LSN
258 |             let startLSN = try await wal.getCurrentLSN()
    |                            `- warning: no calls to throwing functions occur within 'try' expression
259 |             
260 |             // TLA+: Backup all tables

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:273:26: warning: no calls to throwing functions occur within 'try' expression
271 |             
272 |             // TLA+: Get end LSN
273 |             let endLSN = try await wal.getCurrentLSN()
    |                          `- warning: no calls to throwing functions occur within 'try' expression
274 |             
275 |             // TLA+: Update backup metadata

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:324:26: warning: no calls to throwing functions occur within 'try' expression
322 |             
323 |             // TLA+: Get end LSN
324 |             let endLSN = try await wal.getCurrentLSN()
    |                          `- warning: no calls to throwing functions occur within 'try' expression
325 |             
326 |             // TLA+: Update backup metadata

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Backup/BackupManager.swift:510:16: warning: variable 'backup' was never mutated; consider changing to 'let' constant
508 |     /// Update backup status
509 |     private func updateBackupStatus(backupId: String, status: BackupStatus) {
510 |         if var backup = backups[backupId] {
    |                `- warning: variable 'backup' was never mutated; consider changing to 'let' constant
511 |             let updatedBackup = BackupMetadata(
512 |                 backupId: backup.backupId,

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/BufferPool/BufferPool.swift:360:22: warning: immutable value 'page' was never used; consider replacing with '_' or removing it [#no-usage]
358 |     public func checkCacheConsistencyInvariant() -> Bool {
359 |         // Clean pages in cache must match disk
360 |         for (pageID, page) in cache {
    |                      `- warning: immutable value 'page' was never used; consider replacing with '_' or removing it [#no-usage]
361 |             if !dirty.contains(pageID) {
362 |                 // This would require reading from disk to verify

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Catalog/Catalog.swift:131:19: warning: variable 'table' was never mutated; consider changing to 'let' constant
129 |     /// Add index to table
130 |     public func addIndex(tableName: String, index: CatalogIndexDefinition) throws {
131 |         guard var table = tables[tableName] else {
    |                   `- warning: variable 'table' was never mutated; consider changing to 'let' constant
132 |             throw DBError.notFound
133 |         }

/Users/gpicchiarelli/Documents/Colibrì-DB/Sources/ColibriCore/Catalog/CatalogManager.swift:245:19: warning: variable 'tableMetadata' was never mutated; consider changing to 'let' constant
243 |     public func alterTableAddColumn(tableName: String, column: ColumnMetadata) throws {
244 |         // TLA+: Check if table exists
245 |         guard var tableMetadata = tables[tableName] else {
    |                   `- warning: variable 'tableMetadata' was never mutated; consider changing to 'let' constant
246 |             throw DBError.tableNotFound
247 |         }
